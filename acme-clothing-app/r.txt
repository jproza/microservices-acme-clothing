Attaching to acme-clothing, api-gateway, discovery, mongodb
mongodb        | {"t":{"$date":"2023-01-01T22:54:47.447+00:00"},"s":"I",  "c":"CONTROL",  "id":23285,   "ctx":"main","msg":"Automatically disabling TLS 1.0, to force-enable TLS 1.0 specify --sslDisabledProtocols 'none'"}
mongodb        | {"t":{"$date":"2023-01-01T22:54:47.452+00:00"},"s":"I",  "c":"NETWORK",  "id":4648601, "ctx":"main","msg":"Implicit TCP FastOpen unavailable. If TCP FastOpen is required, set tcpFastOpenServer, tcpFastOpenClient, and tcpFastOpenQueueSize."}
mongodb        | {"t":{"$date":"2023-01-01T22:54:47.453+00:00"},"s":"I",  "c":"STORAGE",  "id":4615611, "ctx":"initandlisten","msg":"MongoDB starting","attr":{"pid":1,"port":27017,"dbPath":"/data/db","architecture":"64-bit","host":"localhost"}}
mongodb        | {"t":{"$date":"2023-01-01T22:54:47.453+00:00"},"s":"I",  "c":"CONTROL",  "id":23403,   "ctx":"initandlisten","msg":"Build Info","attr":{"buildInfo":{"version":"4.4.18","gitVersion":"8ed32b5c2c68ebe7f8ae2ebe8d23f36037a17dea","openSSLVersion":"OpenSSL 1.1.1f  31 Mar 2020","modules":[],"allocator":"tcmalloc","environment":{"distmod":"ubuntu2004","distarch":"aarch64","target_arch":"aarch64"}}}}
mongodb        | {"t":{"$date":"2023-01-01T22:54:47.453+00:00"},"s":"I",  "c":"CONTROL",  "id":51765,   "ctx":"initandlisten","msg":"Operating System","attr":{"os":{"name":"Ubuntu","version":"20.04"}}}
mongodb        | {"t":{"$date":"2023-01-01T22:54:47.453+00:00"},"s":"I",  "c":"CONTROL",  "id":21951,   "ctx":"initandlisten","msg":"Options set by command line","attr":{"options":{"net":{"bindIp":"0.0.0.0"}}}}
mongodb        | {"t":{"$date":"2023-01-01T22:54:47.454+00:00"},"s":"W",  "c":"STORAGE",  "id":22271,   "ctx":"initandlisten","msg":"Detected unclean shutdown - Lock file is not empty","attr":{"lockFile":"/data/db/mongod.lock"}}
mongodb        | {"t":{"$date":"2023-01-01T22:54:47.454+00:00"},"s":"I",  "c":"STORAGE",  "id":22270,   "ctx":"initandlisten","msg":"Storage engine to use detected by data files","attr":{"dbpath":"/data/db","storageEngine":"wiredTiger"}}
mongodb        | {"t":{"$date":"2023-01-01T22:54:47.454+00:00"},"s":"W",  "c":"STORAGE",  "id":22302,   "ctx":"initandlisten","msg":"Recovering data from the last clean checkpoint."}
mongodb        | {"t":{"$date":"2023-01-01T22:54:47.454+00:00"},"s":"I",  "c":"STORAGE",  "id":22297,   "ctx":"initandlisten","msg":"Using the XFS filesystem is strongly recommended with the WiredTiger storage engine. See http://dochub.mongodb.org/core/prodnotes-filesystem","tags":["startupWarnings"]}
mongodb        | {"t":{"$date":"2023-01-01T22:54:47.454+00:00"},"s":"I",  "c":"STORAGE",  "id":22315,   "ctx":"initandlisten","msg":"Opening WiredTiger","attr":{"config":"create,cache_size=1454M,session_max=33000,eviction=(threads_min=4,threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,archive=true,path=journal,compressor=snappy),file_manager=(close_idle_time=100000,close_scan_interval=10,close_handle_minimum=250),statistics_log=(wait=0),verbose=[recovery_progress,checkpoint_progress,compact_progress],"}}
mongodb        | {"t":{"$date":"2023-01-01T22:54:48.457+00:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1672613688:457297][1:0xffff8a7ba980], txn-recover: [WT_VERB_RECOVERY_PROGRESS] Recovering log 10 through 11"}}
mongodb        | {"t":{"$date":"2023-01-01T22:54:48.586+00:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1672613688:586084][1:0xffff8a7ba980], txn-recover: [WT_VERB_RECOVERY_PROGRESS] Recovering log 11 through 11"}}
mongodb        | {"t":{"$date":"2023-01-01T22:54:48.813+00:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1672613688:813951][1:0xffff8a7ba980], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Main recovery loop: starting at 10/21120 to 11/256"}}
mongodb        | {"t":{"$date":"2023-01-01T22:54:48.817+00:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1672613688:817426][1:0xffff8a7ba980], txn-recover: [WT_VERB_RECOVERY_PROGRESS] Recovering log 10 through 11"}}
mongodb        | {"t":{"$date":"2023-01-01T22:54:48.972+00:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1672613688:972165][1:0xffff8a7ba980], txn-recover: [WT_VERB_RECOVERY_PROGRESS] Recovering log 11 through 11"}}
mongodb        | {"t":{"$date":"2023-01-01T22:54:49.036+00:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1672613689:36257][1:0xffff8a7ba980], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global recovery timestamp: (0, 0)"}}
mongodb        | {"t":{"$date":"2023-01-01T22:54:49.036+00:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1672613689:36942][1:0xffff8a7ba980], txn-recover: [WT_VERB_RECOVERY | WT_VERB_RECOVERY_PROGRESS] Set global oldest timestamp: (0, 0)"}}
mongodb        | {"t":{"$date":"2023-01-01T22:54:49.121+00:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1672613689:120763][1:0xffff8a7ba980], WT_SESSION.checkpoint: [WT_VERB_CHECKPOINT_PROGRESS] saving checkpoint snapshot min: 6, snapshot max: 6 snapshot count: 0, oldest timestamp: (0, 0) , meta checkpoint timestamp: (0, 0) base write gen: 399"}}
mongodb        | {"t":{"$date":"2023-01-01T22:54:49.189+00:00"},"s":"I",  "c":"STORAGE",  "id":4795906, "ctx":"initandlisten","msg":"WiredTiger opened","attr":{"durationMillis":1734}}
mongodb        | {"t":{"$date":"2023-01-01T22:54:49.190+00:00"},"s":"I",  "c":"RECOVERY", "id":23987,   "ctx":"initandlisten","msg":"WiredTiger recoveryTimestamp","attr":{"recoveryTimestamp":{"$timestamp":{"t":0,"i":0}}}}
mongodb        | {"t":{"$date":"2023-01-01T22:54:49.211+00:00"},"s":"I",  "c":"STORAGE",  "id":22262,   "ctx":"initandlisten","msg":"Timestamp monitor starting"}
mongodb        | {"t":{"$date":"2023-01-01T22:54:49.259+00:00"},"s":"W",  "c":"CONTROL",  "id":22120,   "ctx":"initandlisten","msg":"Access control is not enabled for the database. Read and write access to data and configuration is unrestricted","tags":["startupWarnings"]}
mongodb        | {"t":{"$date":"2023-01-01T22:54:49.285+00:00"},"s":"I",  "c":"STORAGE",  "id":20536,   "ctx":"initandlisten","msg":"Flow Control is enabled on this deployment"}
mongodb        | {"t":{"$date":"2023-01-01T22:54:49.292+00:00"},"s":"I",  "c":"FTDC",     "id":20625,   "ctx":"initandlisten","msg":"Initializing full-time diagnostic data capture","attr":{"dataDirectory":"/data/db/diagnostic.data"}}
mongodb        | {"t":{"$date":"2023-01-01T22:54:49.293+00:00"},"s":"I",  "c":"REPL",     "id":6015317, "ctx":"initandlisten","msg":"Setting new configuration state","attr":{"newState":"ConfigReplicationDisabled","oldState":"ConfigPreStart"}}
mongodb        | {"t":{"$date":"2023-01-01T22:54:49.315+00:00"},"s":"I",  "c":"NETWORK",  "id":23015,   "ctx":"listener","msg":"Listening on","attr":{"address":"/tmp/mongodb-27017.sock"}}
mongodb        | {"t":{"$date":"2023-01-01T22:54:49.316+00:00"},"s":"I",  "c":"NETWORK",  "id":23015,   "ctx":"listener","msg":"Listening on","attr":{"address":"0.0.0.0"}}
mongodb        | {"t":{"$date":"2023-01-01T22:54:49.316+00:00"},"s":"I",  "c":"NETWORK",  "id":23016,   "ctx":"listener","msg":"Waiting for connections","attr":{"port":27017,"ssl":"off"}}
mongodb        | {"t":{"$date":"2023-01-01T22:54:50.119+00:00"},"s":"I",  "c":"FTDC",     "id":20631,   "ctx":"ftdc","msg":"Unclean full-time diagnostic data capture shutdown detected, found interim file, some metrics may have been lost","attr":{"error":{"code":0,"codeName":"OK"}}}
discovery      | 
discovery      |   .   ____          _            __ _ _
discovery      |  /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
discovery      | ( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
discovery      |  \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
discovery      |   '  |____| .__|_| |_|_| |_\__, | / / / /
discovery      |  =========|_|==============|___/=/_/_/_/
discovery      |  :: Spring Boot ::                (v2.7.4)
discovery      | 
discovery      | 2023-01-01 23:54:51.034  INFO 1 --- [           main] c.a.c.d.s.DiscoveryServerApplication     : Starting DiscoveryServerApplication v0.0.1-SNAPSHOT using Java 11.0.16 on 80d0759941a0 with PID 1 (/app.jar started by normaluser in /)
discovery      | 2023-01-01 23:54:51.036  INFO 1 --- [           main] c.a.c.d.s.DiscoveryServerApplication     : No active profile set, falling back to 1 default profile: "default"
acme-clothing  | 
acme-clothing  |   .   ____          _            __ _ _
acme-clothing  |  /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
acme-clothing  | ( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
acme-clothing  |  \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
acme-clothing  |   '  |____| .__|_| |_|_| |_\__, | / / / /
acme-clothing  |  =========|_|==============|___/=/_/_/_/
acme-clothing  |  :: Spring Boot ::                (v2.7.4)
acme-clothing  | 
acme-clothing  | 2023-01-01 23:54:51.374  INFO [jproza/acme-clothing,,] 1 --- [           main] a.c.c.a.c.AcmeClothingApplication        : Starting AcmeClothingApplication v0.0.1-SNAPSHOT using Java 11.0.16 on localhost with PID 1 (/app.jar started by normaluser in /)
acme-clothing  | 2023-01-01 23:54:51.377  INFO [jproza/acme-clothing,,] 1 --- [           main] a.c.c.a.c.AcmeClothingApplication        : The following 1 profile is active: "prod"
api-gateway    | 
api-gateway    |   .   ____          _            __ _ _
api-gateway    |  /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
api-gateway    | ( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
api-gateway    |  \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
api-gateway    |   '  |____| .__|_| |_|_| |_\__, | / / / /
api-gateway    |  =========|_|==============|___/=/_/_/_/
api-gateway    |  :: Spring Boot ::                (v2.7.4)
api-gateway    | 
api-gateway    | 2023-01-01 23:54:51.896  INFO [api-gateway,,] 1 --- [           main] c.a.c.api.gateway.ApiGatewayApplication  : Starting ApiGatewayApplication v0.0.1-SNAPSHOT using Java 11.0.16 on 49af4fc4ed44 with PID 1 (/app.jar started by normaluser in /)
api-gateway    | 2023-01-01 23:54:51.902  INFO [api-gateway,,] 1 --- [           main] c.a.c.api.gateway.ApiGatewayApplication  : No active profile set, falling back to 1 default profile: "default"
discovery      | 2023-01-01 23:54:52.788  INFO 1 --- [           main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=336903ac-d98e-3df2-a154-da00f25c6a1a
discovery      | 2023-01-01 23:54:53.348  INFO 1 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8761 (http)
discovery      | 2023-01-01 23:54:53.357  INFO 1 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
discovery      | 2023-01-01 23:54:53.358  INFO 1 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
discovery      | 2023-01-01 23:54:53.480  INFO 1 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
discovery      | 2023-01-01 23:54:53.480  INFO 1 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2371 ms
discovery      | 2023-01-01 23:54:54.221  INFO 1 --- [           main] c.s.j.s.i.a.WebApplicationImpl           : Initiating Jersey application, version 'Jersey: 1.19.4 05/24/2017 03:20 PM'
discovery      | 2023-01-01 23:54:54.329  INFO 1 --- [           main] c.n.d.provider.DiscoveryJerseyProvider   : Using JSON encoding codec LegacyJacksonJson
discovery      | 2023-01-01 23:54:54.330  INFO 1 --- [           main] c.n.d.provider.DiscoveryJerseyProvider   : Using JSON decoding codec LegacyJacksonJson
discovery      | 2023-01-01 23:54:54.724  INFO 1 --- [           main] c.n.d.provider.DiscoveryJerseyProvider   : Using XML encoding codec XStreamXml
discovery      | 2023-01-01 23:54:54.725  INFO 1 --- [           main] c.n.d.provider.DiscoveryJerseyProvider   : Using XML decoding codec XStreamXml
api-gateway    | 2023-01-01 23:54:55.324  INFO [api-gateway,,] 1 --- [           main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=a402ab55-393d-3ec2-87cd-65f061432f04
api-gateway    | 2023-01-01 23:54:55.928  INFO [api-gateway,,] 1 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
api-gateway    | 2023-01-01 23:54:55.931  INFO [api-gateway,,] 1 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactorDeferringLoadBalancerFilterConfig' of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactorDeferringLoadBalancerFilterConfig] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
api-gateway    | 2023-01-01 23:54:55.934  INFO [api-gateway,,] 1 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'reactorDeferringLoadBalancerExchangeFilterFunction' of type [org.springframework.cloud.client.loadbalancer.reactive.DeferringLoadBalancerExchangeFilterFunction] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
discovery      | 2023-01-01 23:54:56.791  INFO 1 --- [           main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
discovery      | 2023-01-01 23:54:56.931  WARN 1 --- [           main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
discovery      | 2023-01-01 23:54:56.951  INFO 1 --- [           main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
discovery      | 2023-01-01 23:54:57.012  INFO 1 --- [           main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
discovery      | 2023-01-01 23:54:57.029  INFO 1 --- [           main] com.netflix.discovery.DiscoveryClient    : Client configured to neither register nor query for data.
discovery      | 2023-01-01 23:54:57.072  INFO 1 --- [           main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1672613697055 with initial instances count: 0
discovery      | 2023-01-01 23:54:57.204  INFO 1 --- [           main] c.n.eureka.DefaultEurekaServerContext    : Initializing ...
discovery      | 2023-01-01 23:54:57.212  WARN 1 --- [           main] c.n.eureka.cluster.PeerEurekaNodes       : The replica size seems to be empty. Check the route 53 DNS Registry
discovery      | 2023-01-01 23:54:57.355  INFO 1 --- [           main] c.n.e.registry.AbstractInstanceRegistry  : Finished initializing remote region registries. All known remote regions: []
discovery      | 2023-01-01 23:54:57.356  INFO 1 --- [           main] c.n.eureka.DefaultEurekaServerContext    : Initialized
discovery      | 2023-01-01 23:54:57.402  INFO 1 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
discovery      | 2023-01-01 23:54:57.462  INFO 1 --- [           main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application EUREKA with eureka with status UP
discovery      | 2023-01-01 23:54:57.574  INFO 1 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8761 (http) with context path ''
discovery      | 2023-01-01 23:54:57.580  INFO 1 --- [           main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 8761
discovery      | 2023-01-01 23:54:57.585  INFO 1 --- [       Thread-9] o.s.c.n.e.server.EurekaServerBootstrap   : isAws returned false
discovery      | 2023-01-01 23:54:57.600  INFO 1 --- [       Thread-9] o.s.c.n.e.server.EurekaServerBootstrap   : Initialized server context
discovery      | 2023-01-01 23:54:57.600  INFO 1 --- [       Thread-9] c.n.e.r.PeerAwareInstanceRegistryImpl    : Got 1 instances from neighboring DS node
discovery      | 2023-01-01 23:54:57.600  INFO 1 --- [       Thread-9] c.n.e.r.PeerAwareInstanceRegistryImpl    : Renew threshold is: 1
discovery      | 2023-01-01 23:54:57.600  INFO 1 --- [       Thread-9] c.n.e.r.PeerAwareInstanceRegistryImpl    : Changing status to UP
discovery      | 2023-01-01 23:54:57.672  INFO 1 --- [       Thread-9] e.s.EurekaServerInitializerConfiguration : Started Eureka Server
discovery      | 2023-01-01 23:54:57.692  INFO 1 --- [           main] c.a.c.d.s.DiscoveryServerApplication     : Started DiscoveryServerApplication in 9.367 seconds (JVM running for 10.322)
mongodb        | {"t":{"$date":"2023-01-01T22:54:58.509+00:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"172.23.0.4:58568","connectionId":1,"connectionCount":1}}
mongodb        | {"t":{"$date":"2023-01-01T22:54:58.513+00:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"172.23.0.4:58578","connectionId":2,"connectionCount":2}}
mongodb        | {"t":{"$date":"2023-01-01T22:54:58.534+00:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn1","msg":"client metadata","attr":{"remote":"172.23.0.4:58568","client":"conn1","doc":{"driver":{"name":"mongo-java-driver|sync|spring-boot","version":"4.6.1"},"os":{"type":"Linux","name":"Linux","architecture":"aarch64","version":"5.15.49-linuxkit"},"platform":"Java/Oracle Corporation/11.0.16+8"}}}
mongodb        | {"t":{"$date":"2023-01-01T22:54:58.535+00:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn2","msg":"client metadata","attr":{"remote":"172.23.0.4:58578","client":"conn2","doc":{"driver":{"name":"mongo-java-driver|sync|spring-boot","version":"4.6.1"},"os":{"type":"Linux","name":"Linux","architecture":"aarch64","version":"5.15.49-linuxkit"},"platform":"Java/Oracle Corporation/11.0.16+8"}}}
acme-clothing  | 2023-01-01 23:54:58.758  WARN [jproza/acme-clothing,,] 1 --- [           main] o.s.data.convert.CustomConversions       : Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type; You might want to check your annotation setup at the converter implementation
acme-clothing  | 2023-01-01 23:54:59.133  WARN [jproza/acme-clothing,,] 1 --- [           main] o.s.data.convert.CustomConversions       : Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type; You might want to check your annotation setup at the converter implementation
api-gateway    | 2023-01-01 23:54:59.995  INFO [api-gateway,,] 1 --- [           main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [After]
api-gateway    | 2023-01-01 23:54:59.997  INFO [api-gateway,,] 1 --- [           main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Before]
api-gateway    | 2023-01-01 23:54:59.997  INFO [api-gateway,,] 1 --- [           main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Between]
api-gateway    | 2023-01-01 23:54:59.998  INFO [api-gateway,,] 1 --- [           main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Cookie]
api-gateway    | 2023-01-01 23:54:59.998  INFO [api-gateway,,] 1 --- [           main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Header]
api-gateway    | 2023-01-01 23:54:59.998  INFO [api-gateway,,] 1 --- [           main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Host]
api-gateway    | 2023-01-01 23:54:59.998  INFO [api-gateway,,] 1 --- [           main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Method]
api-gateway    | 2023-01-01 23:54:59.998  INFO [api-gateway,,] 1 --- [           main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Path]
api-gateway    | 2023-01-01 23:54:59.998  INFO [api-gateway,,] 1 --- [           main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Query]
api-gateway    | 2023-01-01 23:54:59.999  INFO [api-gateway,,] 1 --- [           main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [ReadBody]
api-gateway    | 2023-01-01 23:54:59.999  INFO [api-gateway,,] 1 --- [           main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [RemoteAddr]
api-gateway    | 2023-01-01 23:54:59.999  INFO [api-gateway,,] 1 --- [           main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [XForwardedRemoteAddr]
api-gateway    | 2023-01-01 23:54:59.999  INFO [api-gateway,,] 1 --- [           main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Weight]
api-gateway    | 2023-01-01 23:54:59.999  INFO [api-gateway,,] 1 --- [           main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [CloudFoundryRouteService]
acme-clothing  | 2023-01-01 23:55:00.180  WARN [jproza/acme-clothing,,] 1 --- [pool-4-thread-1] o.s.c.s.a.z.ZipkinAutoConfiguration      : Check result of the [WebClientSender{http://localhost:9411/api/v2/spans}] contains an error [CheckResult{ok=false, error=org.springframework.web.reactive.function.client.WebClientRequestException: Connection refused: localhost/172.23.0.4:9411; nested exception is io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/172.23.0.4:9411}]
api-gateway    | 2023-01-01 23:55:01.342  INFO [api-gateway,,] 1 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path '/actuator'
api-gateway    | 2023-01-01 23:55:02.301  WARN [api-gateway,,] 1 --- [pool-5-thread-1] o.s.c.s.a.z.ZipkinAutoConfiguration      : Check result of the [WebClientSender{http://localhost:9411/api/v2/spans}] contains an error [CheckResult{ok=false, error=org.springframework.web.reactive.function.client.WebClientRequestException: Connection refused: localhost/127.0.0.1:9411; nested exception is io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:9411}]
api-gateway    | 2023-01-01 23:55:02.739  INFO [api-gateway,,] 1 --- [           main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
api-gateway    | 2023-01-01 23:55:03.098  WARN [api-gateway,,] 1 --- [           main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
api-gateway    | 2023-01-01 23:55:03.287  INFO [api-gateway,,] 1 --- [           main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
api-gateway    | 2023-01-01 23:55:03.375  INFO [api-gateway,,] 1 --- [           main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
api-gateway    | 2023-01-01 23:55:03.391  INFO [api-gateway,,] 1 --- [           main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
api-gateway    | 2023-01-01 23:55:03.410  INFO [api-gateway,,] 1 --- [           main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
api-gateway    | 2023-01-01 23:55:03.410  INFO [api-gateway,,] 1 --- [           main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
api-gateway    | 2023-01-01 23:55:03.410  INFO [api-gateway,,] 1 --- [           main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
api-gateway    | 2023-01-01 23:55:03.410  INFO [api-gateway,,] 1 --- [           main] com.netflix.discovery.DiscoveryClient    : Application is null : false
api-gateway    | 2023-01-01 23:55:03.410  INFO [api-gateway,,] 1 --- [           main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
api-gateway    | 2023-01-01 23:55:03.410  INFO [api-gateway,,] 1 --- [           main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
api-gateway    | 2023-01-01 23:55:03.410  INFO [api-gateway,,] 1 --- [           main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
api-gateway    | 2023-01-01 23:55:03.729  INFO [api-gateway,,] 1 --- [           main] c.n.d.s.t.d.RedirectingEurekaHttpClient  : Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:8761/eureka/}, exception=I/O error on GET request for "http://localhost:8761/eureka/apps/": Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused); nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused) stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://localhost:8761/eureka/apps/": Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused); nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused)
api-gateway    | 	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:785)
api-gateway    | 	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711)
api-gateway    | 	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602)
api-gateway    | 	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.getApplicationsInternal(RestTemplateEurekaHttpClient.java:145)
api-gateway    | 	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.getApplications(RestTemplateEurekaHttpClient.java:135)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$6.execute(EurekaHttpClientDecorator.java:137)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$6.execute(EurekaHttpClientDecorator.java:137)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$6.execute(EurekaHttpClientDecorator.java:137)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)
api-gateway    | 	at com.netflix.discovery.DiscoveryClient.getAndStoreFullRegistry(DiscoveryClient.java:1101)
api-gateway    | 	at com.netflix.discovery.DiscoveryClient.fetchRegistry(DiscoveryClient.java:1014)
api-gateway    | 	at com.netflix.discovery.DiscoveryClient.<init>(DiscoveryClient.java:441)
api-gateway    | 	at com.netflix.discovery.DiscoveryClient.<init>(DiscoveryClient.java:283)
api-gateway    | 	at com.netflix.discovery.DiscoveryClient.<init>(DiscoveryClient.java:279)
api-gateway    | 	at org.springframework.cloud.netflix.eureka.CloudEurekaClient.<init>(CloudEurekaClient.java:66)
api-gateway    | 	at org.springframework.cloud.netflix.eureka.EurekaClientAutoConfiguration$RefreshableEurekaClientConfiguration.eurekaClient(EurekaClientAutoConfiguration.java:295)
api-gateway    | 	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
api-gateway    | 	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
api-gateway    | 	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
api-gateway    | 	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
api-gateway    | 	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)
api-gateway    | 	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)
api-gateway    | 	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638)
api-gateway    | 	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
api-gateway    | 	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
api-gateway    | 	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
api-gateway    | 	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
api-gateway    | 	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$1(AbstractBeanFactory.java:374)
api-gateway    | 	at org.springframework.cloud.context.scope.GenericScope$BeanLifecycleWrapper.getBean(GenericScope.java:376)
api-gateway    | 	at org.springframework.cloud.context.scope.GenericScope.get(GenericScope.java:179)
api-gateway    | 	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:371)
api-gateway    | 	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
api-gateway    | 	at org.springframework.aop.target.SimpleBeanTargetSource.getTarget(SimpleBeanTargetSource.java:35)
api-gateway    | 	at org.springframework.cloud.netflix.eureka.serviceregistry.EurekaRegistration.getTargetObject(EurekaRegistration.java:127)
api-gateway    | 	at org.springframework.cloud.netflix.eureka.serviceregistry.EurekaRegistration.getEurekaClient(EurekaRegistration.java:115)
api-gateway    | 	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
api-gateway    | 	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
api-gateway    | 	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
api-gateway    | 	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
api-gateway    | 	at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:282)
api-gateway    | 	at org.springframework.cloud.context.scope.GenericScope$LockedScopedProxyFactoryBean.invoke(GenericScope.java:485)
api-gateway    | 	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
api-gateway    | 	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
api-gateway    | 	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
api-gateway    | 	at org.springframework.cloud.netflix.eureka.serviceregistry.EurekaRegistration$$EnhancerBySpringCGLIB$$fd2c2c8e.getEurekaClient(<generated>)
api-gateway    | 	at org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry.maybeInitializeClient(EurekaServiceRegistry.java:54)
api-gateway    | 	at org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry.register(EurekaServiceRegistry.java:38)
api-gateway    | 	at org.springframework.cloud.netflix.eureka.serviceregistry.EurekaAutoServiceRegistration.start(EurekaAutoServiceRegistration.java:83)
api-gateway    | 	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:178)
api-gateway    | 	at org.springframework.context.support.DefaultLifecycleProcessor.access$200(DefaultLifecycleProcessor.java:54)
api-gateway    | 	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:356)
api-gateway    | 	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
api-gateway    | 	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:155)
api-gateway    | 	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:123)
api-gateway    | 	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:935)
api-gateway    | 	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:586)
api-gateway    | 	at org.springframework.boot.web.reactive.context.ReactiveWebServerApplicationContext.refresh(ReactiveWebServerApplicationContext.java:66)
api-gateway    | 	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
api-gateway    | 	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
api-gateway    | 	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
api-gateway    | 	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
api-gateway    | 	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
api-gateway    | 	at com.acme.clothing.api.gateway.ApiGatewayApplication.main(ApiGatewayApplication.java:12)
api-gateway    | 	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
api-gateway    | 	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
api-gateway    | 	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
api-gateway    | 	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
api-gateway    | 	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)
api-gateway    | 	at org.springframework.boot.loader.Launcher.launch(Launcher.java:108)
api-gateway    | 	at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)
api-gateway    | 	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65)
api-gateway    | Caused by: org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused)
api-gateway    | 	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:156)
api-gateway    | 	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)
api-gateway    | 	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)
api-gateway    | 	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)
api-gateway    | 	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)
api-gateway    | 	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)
api-gateway    | 	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)
api-gateway    | 	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)
api-gateway    | 	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)
api-gateway    | 	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)
api-gateway    | 	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:87)
api-gateway    | 	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
api-gateway    | 	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
api-gateway    | 	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:776)
api-gateway    | 	... 76 more
api-gateway    | Caused by: java.net.ConnectException: Connection refused (Connection refused)
api-gateway    | 	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
api-gateway    | 	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:412)
api-gateway    | 	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:255)
api-gateway    | 	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:237)
api-gateway    | 	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
api-gateway    | 	at java.base/java.net.Socket.connect(Socket.java:609)
api-gateway    | 	at org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75)
api-gateway    | 	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)
api-gateway    | 	... 89 more
api-gateway    | 
api-gateway    | 2023-01-01 23:55:03.729  WARN [api-gateway,,] 1 --- [           main] c.n.d.s.t.d.RetryableEurekaHttpClient    : Request execution failed with message: I/O error on GET request for "http://localhost:8761/eureka/apps/": Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused); nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused)
api-gateway    | 2023-01-01 23:55:03.729  INFO [api-gateway,,] 1 --- [           main] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_API-GATEWAY/49af4fc4ed44:api-gateway:9191 - was unable to refresh its cache! This periodic background refresh will be retried in 30 seconds. status = Cannot execute request on any known server stacktrace = com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$6.execute(EurekaHttpClientDecorator.java:137)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)
api-gateway    | 	at com.netflix.discovery.DiscoveryClient.getAndStoreFullRegistry(DiscoveryClient.java:1101)
api-gateway    | 	at com.netflix.discovery.DiscoveryClient.fetchRegistry(DiscoveryClient.java:1014)
api-gateway    | 	at com.netflix.discovery.DiscoveryClient.<init>(DiscoveryClient.java:441)
api-gateway    | 	at com.netflix.discovery.DiscoveryClient.<init>(DiscoveryClient.java:283)
api-gateway    | 	at com.netflix.discovery.DiscoveryClient.<init>(DiscoveryClient.java:279)
api-gateway    | 	at org.springframework.cloud.netflix.eureka.CloudEurekaClient.<init>(CloudEurekaClient.java:66)
api-gateway    | 	at org.springframework.cloud.netflix.eureka.EurekaClientAutoConfiguration$RefreshableEurekaClientConfiguration.eurekaClient(EurekaClientAutoConfiguration.java:295)
api-gateway    | 	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
api-gateway    | 	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
api-gateway    | 	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
api-gateway    | 	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
api-gateway    | 	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)
api-gateway    | 	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)
api-gateway    | 	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638)
api-gateway    | 	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
api-gateway    | 	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
api-gateway    | 	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
api-gateway    | 	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
api-gateway    | 	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$1(AbstractBeanFactory.java:374)
api-gateway    | 	at org.springframework.cloud.context.scope.GenericScope$BeanLifecycleWrapper.getBean(GenericScope.java:376)
api-gateway    | 	at org.springframework.cloud.context.scope.GenericScope.get(GenericScope.java:179)
api-gateway    | 	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:371)
api-gateway    | 	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
api-gateway    | 	at org.springframework.aop.target.SimpleBeanTargetSource.getTarget(SimpleBeanTargetSource.java:35)
api-gateway    | 	at org.springframework.cloud.netflix.eureka.serviceregistry.EurekaRegistration.getTargetObject(EurekaRegistration.java:127)
api-gateway    | 	at org.springframework.cloud.netflix.eureka.serviceregistry.EurekaRegistration.getEurekaClient(EurekaRegistration.java:115)
api-gateway    | 	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
api-gateway    | 	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
api-gateway    | 	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
api-gateway    | 	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
api-gateway    | 	at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:282)
api-gateway    | 	at org.springframework.cloud.context.scope.GenericScope$LockedScopedProxyFactoryBean.invoke(GenericScope.java:485)
api-gateway    | 	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
api-gateway    | 	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
api-gateway    | 	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
api-gateway    | 	at org.springframework.cloud.netflix.eureka.serviceregistry.EurekaRegistration$$EnhancerBySpringCGLIB$$fd2c2c8e.getEurekaClient(<generated>)
api-gateway    | 	at org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry.maybeInitializeClient(EurekaServiceRegistry.java:54)
api-gateway    | 	at org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry.register(EurekaServiceRegistry.java:38)
api-gateway    | 	at org.springframework.cloud.netflix.eureka.serviceregistry.EurekaAutoServiceRegistration.start(EurekaAutoServiceRegistration.java:83)
api-gateway    | 	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:178)
api-gateway    | 	at org.springframework.context.support.DefaultLifecycleProcessor.access$200(DefaultLifecycleProcessor.java:54)
api-gateway    | 	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:356)
api-gateway    | 	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
api-gateway    | 	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:155)
api-gateway    | 	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:123)
api-gateway    | 	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:935)
api-gateway    | 	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:586)
api-gateway    | 	at org.springframework.boot.web.reactive.context.ReactiveWebServerApplicationContext.refresh(ReactiveWebServerApplicationContext.java:66)
api-gateway    | 	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
api-gateway    | 	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
api-gateway    | 	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
api-gateway    | 	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
api-gateway    | 	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
api-gateway    | 	at com.acme.clothing.api.gateway.ApiGatewayApplication.main(ApiGatewayApplication.java:12)
api-gateway    | 	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
api-gateway    | 	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
api-gateway    | 	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
api-gateway    | 	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
api-gateway    | 	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)
api-gateway    | 	at org.springframework.boot.loader.Launcher.launch(Launcher.java:108)
api-gateway    | 	at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)
api-gateway    | 	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65)
api-gateway    | 
api-gateway    | 2023-01-01 23:55:03.729  INFO [api-gateway,,] 1 --- [           main] com.netflix.discovery.DiscoveryClient    : Initial registry fetch from primary servers failed
api-gateway    | 2023-01-01 23:55:03.730  WARN [api-gateway,,] 1 --- [           main] com.netflix.discovery.DiscoveryClient    : Using default backup registry implementation which does not do anything.
api-gateway    | 2023-01-01 23:55:03.730  INFO [api-gateway,,] 1 --- [           main] com.netflix.discovery.DiscoveryClient    : Initial registry fetch from backup servers failed
api-gateway    | 2023-01-01 23:55:03.735  INFO [api-gateway,,] 1 --- [           main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
api-gateway    | 2023-01-01 23:55:03.739  INFO [api-gateway,,] 1 --- [           main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
api-gateway    | 2023-01-01 23:55:03.742  INFO [api-gateway,,] 1 --- [           main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1672613703741 with initial instances count: 0
api-gateway    | 2023-01-01 23:55:03.762  INFO [api-gateway,,] 1 --- [           main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application API-GATEWAY with eureka with status UP
api-gateway    | 2023-01-01 23:55:03.763  INFO [api-gateway,,] 1 --- [           main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1672613703763, current=UP, previous=STARTING]
api-gateway    | 2023-01-01 23:55:03.766  INFO [api-gateway,,] 1 --- [nfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_API-GATEWAY/49af4fc4ed44:api-gateway:9191: registering service...
api-gateway    | 2023-01-01 23:55:03.897  INFO [api-gateway,,] 1 --- [nfoReplicator-0] c.n.d.s.t.d.RedirectingEurekaHttpClient  : Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:8761/eureka/}, exception=I/O error on POST request for "http://localhost:8761/eureka/apps/API-GATEWAY": Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused); nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused) stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:8761/eureka/apps/API-GATEWAY": Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused); nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused)
api-gateway    | 	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:785)
api-gateway    | 	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711)
api-gateway    | 	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602)
api-gateway    | 	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.register(RestTemplateEurekaHttpClient.java:77)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
api-gateway    | 	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:876)
api-gateway    | 	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:121)
api-gateway    | 	at com.netflix.discovery.InstanceInfoReplicator$1.run(InstanceInfoReplicator.java:101)
api-gateway    | 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
api-gateway    | 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
api-gateway    | 	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
api-gateway    | 	at java.base/java.lang.Thread.run(Thread.java:829)
api-gateway    | Caused by: org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused)
api-gateway    | 	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:156)
api-gateway    | 	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)
api-gateway    | 	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)
api-gateway    | 	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)
api-gateway    | 	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)
api-gateway    | 	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)
api-gateway    | 	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)
api-gateway    | 	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)
api-gateway    | 	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)
api-gateway    | 	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)
api-gateway    | 	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:87)
api-gateway    | 	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
api-gateway    | 	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
api-gateway    | 	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:776)
api-gateway    | 	... 22 more
api-gateway    | Caused by: java.net.ConnectException: Connection refused (Connection refused)
api-gateway    | 	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
api-gateway    | 	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:412)
api-gateway    | 	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:255)
api-gateway    | 	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:237)
api-gateway    | 	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
api-gateway    | 	at java.base/java.net.Socket.connect(Socket.java:609)
api-gateway    | 	at org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75)
api-gateway    | 	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)
api-gateway    | 	... 35 more
api-gateway    | 
api-gateway    | 2023-01-01 23:55:03.897  WARN [api-gateway,,] 1 --- [nfoReplicator-0] c.n.d.s.t.d.RetryableEurekaHttpClient    : Request execution failed with message: I/O error on POST request for "http://localhost:8761/eureka/apps/API-GATEWAY": Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused); nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused)
api-gateway    | 2023-01-01 23:55:03.903  WARN [api-gateway,,] 1 --- [nfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_API-GATEWAY/49af4fc4ed44:api-gateway:9191 - registration failed Cannot execute request on any known server
api-gateway    | 
api-gateway    | com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:876) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:121) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.InstanceInfoReplicator$1.run(InstanceInfoReplicator.java:101) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]
api-gateway    | 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
api-gateway    | 	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]
api-gateway    | 	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]
api-gateway    | 
api-gateway    | 2023-01-01 23:55:03.903  WARN [api-gateway,,] 1 --- [nfoReplicator-0] c.n.discovery.InstanceInfoReplicator     : There was a problem with the instance info replicator
api-gateway    | 
api-gateway    | com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:876) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:121) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.InstanceInfoReplicator$1.run(InstanceInfoReplicator.java:101) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]
api-gateway    | 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
api-gateway    | 	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]
api-gateway    | 	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]
api-gateway    | 
api-gateway    | 2023-01-01 23:55:04.010  INFO [api-gateway,,] 1 --- [           main] o.s.b.web.embedded.netty.NettyWebServer  : Netty started on port 9191
api-gateway    | 2023-01-01 23:55:04.020  INFO [api-gateway,,] 1 --- [           main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 9191
acme-clothing  | 2023-01-01 23:55:04.048  WARN [jproza/acme-clothing,,] 1 --- [           main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
api-gateway    | 2023-01-01 23:55:04.173  INFO [api-gateway,,] 1 --- [           main] c.a.c.api.gateway.ApiGatewayApplication  : Started ApiGatewayApplication in 13.267 seconds (JVM running for 15.993)
acme-clothing  | 2023-01-01 23:55:04.435  INFO [jproza/acme-clothing,,] 1 --- [           main] a.c.c.a.c.AcmeClothingApplication        : Started AcmeClothingApplication in 14.606 seconds (JVM running for 16.747)
acme-clothing  | 2023-01-01 23:55:04.437  INFO [jproza/acme-clothing,,] 1 --- [           main] a.c.c.acme.clothing.DefaultInitializer   : Starting app initialization ...
acme-clothing  | 2023-01-01 23:55:04.456 DEBUG [jproza/acme-clothing,,] 1 --- [           main] o.s.data.mongodb.core.MongoTemplate      : Remove using query: {} in collection: Families.
mongodb        | {"t":{"$date":"2023-01-01T22:55:04.500+00:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"172.23.0.4:51812","connectionId":3,"connectionCount":3}}
mongodb        | {"t":{"$date":"2023-01-01T22:55:04.501+00:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn3","msg":"client metadata","attr":{"remote":"172.23.0.4:51812","client":"conn3","doc":{"driver":{"name":"mongo-java-driver|sync|spring-boot","version":"4.6.1"},"os":{"type":"Linux","name":"Linux","architecture":"aarch64","version":"5.15.49-linuxkit"},"platform":"Java/Oracle Corporation/11.0.16+8"}}}
acme-clothing  | 2023-01-01 23:55:04.556 DEBUG [jproza/acme-clothing,,] 1 --- [           main] o.s.data.mongodb.core.MongoTemplate      : Remove using query: {} in collection: products.
acme-clothing  | 2023-01-01 23:55:04.560 DEBUG [jproza/acme-clothing,,] 1 --- [           main] o.s.data.mongodb.core.MongoTemplate      : Remove using query: {} in collection: Stocks.
acme-clothing  | 2023-01-01 23:55:04.622 DEBUG [jproza/acme-clothing,,] 1 --- [           main] o.s.data.mongodb.core.MongoTemplate      : Saving Document containing fields: [_id, lstStorage, stockDisponible, hayStock, _class]
acme-clothing  | 2023-01-01 23:55:04.635 DEBUG [jproza/acme-clothing,,] 1 --- [           main] o.s.data.mongodb.core.MongoTemplate      : Saving Document containing fields: [_id, name, _class]
acme-clothing  | 2023-01-01 23:55:04.645 DEBUG [jproza/acme-clothing,,] 1 --- [           main] o.s.data.mongodb.core.MongoTemplate      : Saving Document containing fields: [_id, nombre, descripcion, familiaProduto, precioBase, lstSlogan, stock, referencia, _class]
acme-clothing  | 2023-01-01 23:55:04.647 DEBUG [jproza/acme-clothing,,] 1 --- [           main] o.s.data.mongodb.core.MongoTemplate      : Saving Document containing fields: [_id, nombre, descripcion, familiaProduto, precioBase, referencia, _class]
acme-clothing  | 2023-01-01 23:55:04.649 DEBUG [jproza/acme-clothing,,] 1 --- [           main] o.s.data.mongodb.core.MongoTemplate      : Saving Document containing fields: [_id, name, _class]
acme-clothing  | 2023-01-01 23:55:04.653 DEBUG [jproza/acme-clothing,,] 1 --- [           main] o.s.data.mongodb.core.MongoTemplate      : Saving Document containing fields: [_id, nombre, descripcion, familiaProduto, precioBase, listMedia, referencia, _class]
acme-clothing  | 2023-01-01 23:55:04.655 DEBUG [jproza/acme-clothing,,] 1 --- [           main] o.s.data.mongodb.core.MongoTemplate      : Saving Document containing fields: [_id, name, _class]
acme-clothing  | 2023-01-01 23:55:04.658 DEBUG [jproza/acme-clothing,,] 1 --- [           main] o.s.data.mongodb.core.MongoTemplate      : Saving Document containing fields: [_id, lstStorage, stockDisponible, hayStock, _class]
acme-clothing  | 2023-01-01 23:55:04.659 DEBUG [jproza/acme-clothing,,] 1 --- [           main] o.s.data.mongodb.core.MongoTemplate      : Saving Document containing fields: [_id, nombre, descripcion, familiaProduto, precioBase, stock, referencia, _class]
acme-clothing  | 2023-01-01 23:55:04.661 DEBUG [jproza/acme-clothing,,] 1 --- [           main] o.s.data.mongodb.core.MongoTemplate      : Saving Document containing fields: [_id, name, _class]
acme-clothing  | 2023-01-01 23:55:04.662 DEBUG [jproza/acme-clothing,,] 1 --- [           main] o.s.data.mongodb.core.MongoTemplate      : Saving Document containing fields: [_id, lstStorage, stockDisponible, hayStock, _class]
acme-clothing  | 2023-01-01 23:55:04.664 DEBUG [jproza/acme-clothing,,] 1 --- [           main] o.s.data.mongodb.core.MongoTemplate      : Saving Document containing fields: [_id, nombre, descripcion, familiaProduto, precioBase, stock, nombrePersonalizacion, referencia, precioPersonalizacion, detallePersonalizacion, _class]
acme-clothing  | 2023-01-01 23:55:04.666 DEBUG [jproza/acme-clothing,,] 1 --- [           main] o.s.data.mongodb.core.MongoTemplate      : Saving Document containing fields: [_id, name, nombrePersonalizacion, precioPersonalizacion, detallePersonalizacion, _class]
acme-clothing  | 2023-01-01 23:55:04.667 DEBUG [jproza/acme-clothing,,] 1 --- [           main] o.s.data.mongodb.core.MongoTemplate      : Saving Document containing fields: [_id, lstStorage, stockDisponible, hayStock, _class]
acme-clothing  | 2023-01-01 23:55:04.668 DEBUG [jproza/acme-clothing,,] 1 --- [           main] o.s.data.mongodb.core.MongoTemplate      : Saving Document containing fields: [_id, nombre, descripcion, familiaProduto, precioBase, stock, referencia, _class]
acme-clothing  | 2023-01-01 23:55:04.669  INFO [jproza/acme-clothing,,] 1 --- [           main] a.c.c.acme.clothing.DefaultInitializer   : ... finished app initialization
api-gateway    | 2023-01-01 23:55:33.752  INFO [api-gateway,,] 1 --- [freshExecutor-0] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
api-gateway    | 2023-01-01 23:55:33.755  INFO [api-gateway,,] 1 --- [freshExecutor-0] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
api-gateway    | 2023-01-01 23:55:33.756  INFO [api-gateway,,] 1 --- [freshExecutor-0] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
api-gateway    | 2023-01-01 23:55:33.756  INFO [api-gateway,,] 1 --- [freshExecutor-0] com.netflix.discovery.DiscoveryClient    : Application is null : false
api-gateway    | 2023-01-01 23:55:33.757  INFO [api-gateway,,] 1 --- [freshExecutor-0] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
api-gateway    | 2023-01-01 23:55:33.757  INFO [api-gateway,,] 1 --- [freshExecutor-0] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
api-gateway    | 2023-01-01 23:55:33.757  INFO [api-gateway,,] 1 --- [freshExecutor-0] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
api-gateway    | 2023-01-01 23:55:33.823  INFO [api-gateway,,] 1 --- [freshExecutor-0] c.n.d.s.t.d.RedirectingEurekaHttpClient  : Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:8761/eureka/}, exception=I/O error on GET request for "http://localhost:8761/eureka/apps/": Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused); nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused) stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://localhost:8761/eureka/apps/": Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused); nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused)
api-gateway    | 	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:785)
api-gateway    | 	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711)
api-gateway    | 	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602)
api-gateway    | 	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.getApplicationsInternal(RestTemplateEurekaHttpClient.java:145)
api-gateway    | 	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.getApplications(RestTemplateEurekaHttpClient.java:135)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$6.execute(EurekaHttpClientDecorator.java:137)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$6.execute(EurekaHttpClientDecorator.java:137)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$6.execute(EurekaHttpClientDecorator.java:137)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)
api-gateway    | 	at com.netflix.discovery.DiscoveryClient.getAndStoreFullRegistry(DiscoveryClient.java:1101)
api-gateway    | 	at com.netflix.discovery.DiscoveryClient.fetchRegistry(DiscoveryClient.java:1014)
api-gateway    | 	at com.netflix.discovery.DiscoveryClient.refreshRegistry(DiscoveryClient.java:1531)
api-gateway    | 	at com.netflix.discovery.DiscoveryClient$CacheRefreshThread.run(DiscoveryClient.java:1498)
api-gateway    | 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
api-gateway    | 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
api-gateway    | 	at java.base/java.lang.Thread.run(Thread.java:829)
api-gateway    | Caused by: org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused)
api-gateway    | 	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:156)
api-gateway    | 	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)
api-gateway    | 	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)
api-gateway    | 	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)
api-gateway    | 	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)
api-gateway    | 	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)
api-gateway    | 	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)
api-gateway    | 	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)
api-gateway    | 	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)
api-gateway    | 	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)
api-gateway    | 	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:87)
api-gateway    | 	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
api-gateway    | 	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
api-gateway    | 	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:776)
api-gateway    | 	... 23 more
api-gateway    | Caused by: java.net.ConnectException: Connection refused (Connection refused)
api-gateway    | 	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
api-gateway    | 	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:412)
api-gateway    | 	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:255)
api-gateway    | 	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:237)
api-gateway    | 	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
api-gateway    | 	at java.base/java.net.Socket.connect(Socket.java:609)
api-gateway    | 	at org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75)
api-gateway    | 	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)
api-gateway    | 	... 36 more
api-gateway    | 
api-gateway    | 2023-01-01 23:55:33.823  WARN [api-gateway,,] 1 --- [freshExecutor-0] c.n.d.s.t.d.RetryableEurekaHttpClient    : Request execution failed with message: I/O error on GET request for "http://localhost:8761/eureka/apps/": Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused); nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused)
api-gateway    | 2023-01-01 23:55:33.824  INFO [api-gateway,,] 1 --- [freshExecutor-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_API-GATEWAY/49af4fc4ed44:api-gateway:9191 - was unable to refresh its cache! This periodic background refresh will be retried in 30 seconds. status = Cannot execute request on any known server stacktrace = com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$6.execute(EurekaHttpClientDecorator.java:137)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)
api-gateway    | 	at com.netflix.discovery.DiscoveryClient.getAndStoreFullRegistry(DiscoveryClient.java:1101)
api-gateway    | 	at com.netflix.discovery.DiscoveryClient.fetchRegistry(DiscoveryClient.java:1014)
api-gateway    | 	at com.netflix.discovery.DiscoveryClient.refreshRegistry(DiscoveryClient.java:1531)
api-gateway    | 	at com.netflix.discovery.DiscoveryClient$CacheRefreshThread.run(DiscoveryClient.java:1498)
api-gateway    | 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
api-gateway    | 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
api-gateway    | 	at java.base/java.lang.Thread.run(Thread.java:829)
api-gateway    | 
api-gateway    | 2023-01-01 23:55:33.828  INFO [api-gateway,,] 1 --- [tbeatExecutor-0] c.n.d.s.t.d.RedirectingEurekaHttpClient  : Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:8761/eureka/}, exception=I/O error on PUT request for "http://localhost:8761/eureka/apps/API-GATEWAY/49af4fc4ed44:api-gateway:9191": Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused); nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused) stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on PUT request for "http://localhost:8761/eureka/apps/API-GATEWAY/49af4fc4ed44:api-gateway:9191": Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused); nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused)
api-gateway    | 	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:785)
api-gateway    | 	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711)
api-gateway    | 	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602)
api-gateway    | 	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.sendHeartBeat(RestTemplateEurekaHttpClient.java:99)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$3.execute(EurekaHttpClientDecorator.java:92)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$3.execute(EurekaHttpClientDecorator.java:92)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$3.execute(EurekaHttpClientDecorator.java:92)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89)
api-gateway    | 	at com.netflix.discovery.DiscoveryClient.renew(DiscoveryClient.java:893)
api-gateway    | 	at com.netflix.discovery.DiscoveryClient$HeartbeatThread.run(DiscoveryClient.java:1457)
api-gateway    | 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
api-gateway    | 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
api-gateway    | 	at java.base/java.lang.Thread.run(Thread.java:829)
api-gateway    | Caused by: org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused)
api-gateway    | 	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:156)
api-gateway    | 	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)
api-gateway    | 	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)
api-gateway    | 	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)
api-gateway    | 	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)
api-gateway    | 	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)
api-gateway    | 	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)
api-gateway    | 	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)
api-gateway    | 	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)
api-gateway    | 	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)
api-gateway    | 	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:87)
api-gateway    | 	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
api-gateway    | 	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
api-gateway    | 	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:776)
api-gateway    | 	... 20 more
api-gateway    | Caused by: java.net.ConnectException: Connection refused (Connection refused)
api-gateway    | 	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
api-gateway    | 	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:412)
api-gateway    | 	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:255)
api-gateway    | 	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:237)
api-gateway    | 	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
api-gateway    | 	at java.base/java.net.Socket.connect(Socket.java:609)
api-gateway    | 	at org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75)
api-gateway    | 	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)
api-gateway    | 	... 33 more
api-gateway    | 
api-gateway    | 2023-01-01 23:55:33.828  WARN [api-gateway,,] 1 --- [tbeatExecutor-0] c.n.d.s.t.d.RetryableEurekaHttpClient    : Request execution failed with message: I/O error on PUT request for "http://localhost:8761/eureka/apps/API-GATEWAY/49af4fc4ed44:api-gateway:9191": Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused); nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused)
api-gateway    | 2023-01-01 23:55:33.829 ERROR [api-gateway,,] 1 --- [tbeatExecutor-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_API-GATEWAY/49af4fc4ed44:api-gateway:9191 - was unable to send heartbeat!
api-gateway    | 
api-gateway    | com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$3.execute(EurekaHttpClientDecorator.java:92) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.DiscoveryClient.renew(DiscoveryClient.java:893) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.DiscoveryClient$HeartbeatThread.run(DiscoveryClient.java:1457) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]
api-gateway    | 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]
api-gateway    | 	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]
api-gateway    | 
api-gateway    | 2023-01-01 23:55:33.908  INFO [api-gateway,,] 1 --- [nfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_API-GATEWAY/49af4fc4ed44:api-gateway:9191: registering service...
api-gateway    | 2023-01-01 23:55:33.918  INFO [api-gateway,,] 1 --- [nfoReplicator-0] c.n.d.s.t.d.RedirectingEurekaHttpClient  : Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:8761/eureka/}, exception=I/O error on POST request for "http://localhost:8761/eureka/apps/API-GATEWAY": Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused); nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused) stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:8761/eureka/apps/API-GATEWAY": Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused); nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused)
api-gateway    | 	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:785)
api-gateway    | 	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711)
api-gateway    | 	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602)
api-gateway    | 	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.register(RestTemplateEurekaHttpClient.java:77)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
api-gateway    | 	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:876)
api-gateway    | 	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:121)
api-gateway    | 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
api-gateway    | 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
api-gateway    | 	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
api-gateway    | 	at java.base/java.lang.Thread.run(Thread.java:829)
api-gateway    | Caused by: org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused)
api-gateway    | 	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:156)
api-gateway    | 	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)
api-gateway    | 	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)
api-gateway    | 	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)
api-gateway    | 	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)
api-gateway    | 	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)
api-gateway    | 	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)
api-gateway    | 	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)
api-gateway    | 	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)
api-gateway    | 	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)
api-gateway    | 	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:87)
api-gateway    | 	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
api-gateway    | 	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
api-gateway    | 	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:776)
api-gateway    | 	... 21 more
api-gateway    | Caused by: java.net.ConnectException: Connection refused (Connection refused)
api-gateway    | 	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
api-gateway    | 	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:412)
api-gateway    | 	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:255)
api-gateway    | 	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:237)
api-gateway    | 	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
api-gateway    | 	at java.base/java.net.Socket.connect(Socket.java:609)
api-gateway    | 	at org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75)
api-gateway    | 	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)
api-gateway    | 	... 34 more
api-gateway    | 
api-gateway    | 2023-01-01 23:55:33.918  WARN [api-gateway,,] 1 --- [nfoReplicator-0] c.n.d.s.t.d.RetryableEurekaHttpClient    : Request execution failed with message: I/O error on POST request for "http://localhost:8761/eureka/apps/API-GATEWAY": Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused); nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused)
api-gateway    | 2023-01-01 23:55:33.918  WARN [api-gateway,,] 1 --- [nfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_API-GATEWAY/49af4fc4ed44:api-gateway:9191 - registration failed Cannot execute request on any known server
api-gateway    | 
api-gateway    | com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:876) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:121) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]
api-gateway    | 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
api-gateway    | 	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]
api-gateway    | 	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]
api-gateway    | 
api-gateway    | 2023-01-01 23:55:33.918  WARN [api-gateway,,] 1 --- [nfoReplicator-0] c.n.discovery.InstanceInfoReplicator     : There was a problem with the instance info replicator
api-gateway    | 
api-gateway    | com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:876) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:121) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]
api-gateway    | 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
api-gateway    | 	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]
api-gateway    | 	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]
api-gateway    | 
api-gateway    | 2023-01-01 23:55:43.445  INFO [api-gateway,d1d3165e2b9cfec5,d1d3165e2b9cfec5] 1 --- [ctor-http-nio-1] c.a.clothing.api.gateway.LoggingFilter   : Request received from '172.23.0.1' to '/api/catalogue/product'
acme-clothing  | 2023-01-01 23:55:43.671  INFO [jproza/acme-clothing,d1d3165e2b9cfec5,da5c7e99efad11d4] 1 --- [ctor-http-nio-4] a.c.c.a.c.c.CatalogueManagerController   : Started getAllProducts method with args: {nombre=null}
acme-clothing  | 2023-01-01 23:55:43.684 DEBUG [jproza/acme-clothing,d1d3165e2b9cfec5,da5c7e99efad11d4] 1 --- [ctor-http-nio-4] o.s.data.mongodb.core.MongoTemplate      : find using query: {} fields: Document{{}} for class: class ar.com.challenge.acme.clothing.entities.Product in collection: products
acme-clothing  | 2023-01-01 23:55:43.769  INFO [jproza/acme-clothing,d1d3165e2b9cfec5,da5c7e99efad11d4] 1 --- [ctor-http-nio-4] a.c.c.a.c.c.CatalogueManagerController   : Finished getAllProducts method in 97 millis with return: <200 OK OK,[ar.com.challenge.acme.clothing.entities.Product@485f3ecc, ar.com.challenge.acme.clothing.entities.Product@b30131, ar.com.challenge.acme.clothing.entities.Product@766efc4f, ar.com.challenge.acme.clothing.entities.Product@243b8a7c, ar.com.challenge.acme.clothing.entities.Product@15236969, ar.com.challenge.acme.clothing.entities.Product@d815875],[]>
acme-clothing  | 2023-01-01 23:55:44.760  WARN [jproza/acme-clothing,,] 1 --- [/api/v2/spans}}] z.r.AsyncReporter$BoundedAsyncReporter   : Spans were dropped due to exceptions. All subsequent errors will be logged at FINE level.
acme-clothing  | 2023-01-01 23:55:44.769  WARN [jproza/acme-clothing,,] 1 --- [/api/v2/spans}}] z.r.AsyncReporter$BoundedAsyncReporter   : Dropped 2 spans due to WebClientRequestException(Connection refused: localhost/172.23.0.4:9411; nested exception is io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/172.23.0.4:9411)
acme-clothing  | 
acme-clothing  | org.springframework.web.reactive.function.client.WebClientRequestException: Connection refused: localhost/172.23.0.4:9411; nested exception is io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/172.23.0.4:9411
acme-clothing  | 	at org.springframework.web.reactive.function.client.ExchangeFunctions$DefaultExchangeFunction.lambda$wrapException$9(ExchangeFunctions.java:141) ~[spring-webflux-5.3.23.jar!/:5.3.23]
acme-clothing  | 	Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: 
acme-clothing  | Error has been observed at the following site(s):
acme-clothing  | 	*__checkpoint ⇢ Request to POST http://localhost:9411/api/v2/spans [DefaultWebClient]
acme-clothing  | Original Stack Trace:
acme-clothing  | 		at org.springframework.web.reactive.function.client.ExchangeFunctions$DefaultExchangeFunction.lambda$wrapException$9(ExchangeFunctions.java:141) ~[spring-webflux-5.3.23.jar!/:5.3.23]
acme-clothing  | 		at reactor.core.publisher.MonoErrorSupplied.subscribe(MonoErrorSupplied.java:55) ~[reactor-core-3.4.23.jar!/:3.4.23]
acme-clothing  | 		at reactor.core.publisher.Mono.subscribe(Mono.java:4455) ~[reactor-core-3.4.23.jar!/:3.4.23]
acme-clothing  | 		at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103) ~[reactor-core-3.4.23.jar!/:3.4.23]
acme-clothing  | 		at reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:222) ~[reactor-core-3.4.23.jar!/:3.4.23]
acme-clothing  | 		at reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:222) ~[reactor-core-3.4.23.jar!/:3.4.23]
acme-clothing  | 		at reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:222) ~[reactor-core-3.4.23.jar!/:3.4.23]
acme-clothing  | 		at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93) ~[reactor-core-3.4.23.jar!/:3.4.23]
acme-clothing  | 		at reactor.core.publisher.MonoFlatMapMany$FlatMapManyMain.onError(MonoFlatMapMany.java:204) ~[reactor-core-3.4.23.jar!/:3.4.23]
acme-clothing  | 		at reactor.core.publisher.SerializedSubscriber.onError(SerializedSubscriber.java:124) ~[reactor-core-3.4.23.jar!/:3.4.23]
acme-clothing  | 		at reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.whenError(FluxRetryWhen.java:225) ~[reactor-core-3.4.23.jar!/:3.4.23]
acme-clothing  | 		at reactor.core.publisher.FluxRetryWhen$RetryWhenOtherSubscriber.onError(FluxRetryWhen.java:274) ~[reactor-core-3.4.23.jar!/:3.4.23]
acme-clothing  | 		at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.drain(FluxConcatMap.java:415) ~[reactor-core-3.4.23.jar!/:3.4.23]
acme-clothing  | 		at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.onNext(FluxConcatMap.java:251) ~[reactor-core-3.4.23.jar!/:3.4.23]
acme-clothing  | 		at reactor.core.publisher.EmitterProcessor.drain(EmitterProcessor.java:537) ~[reactor-core-3.4.23.jar!/:3.4.23]
acme-clothing  | 		at reactor.core.publisher.EmitterProcessor.tryEmitNext(EmitterProcessor.java:343) ~[reactor-core-3.4.23.jar!/:3.4.23]
acme-clothing  | 		at reactor.core.publisher.SinkManySerialized.tryEmitNext(SinkManySerialized.java:100) ~[reactor-core-3.4.23.jar!/:3.4.23]
acme-clothing  | 		at reactor.core.publisher.InternalManySink.emitNext(InternalManySink.java:27) ~[reactor-core-3.4.23.jar!/:3.4.23]
acme-clothing  | 		at reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.onError(FluxRetryWhen.java:190) ~[reactor-core-3.4.23.jar!/:3.4.23]
acme-clothing  | 		at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:201) ~[reactor-core-3.4.23.jar!/:3.4.23]
acme-clothing  | 		at reactor.netty.http.client.HttpClientConnect$MonoHttpConnect$ClientTransportSubscriber.onError(HttpClientConnect.java:308) ~[reactor-netty-http-1.0.23.jar!/:1.0.23]
acme-clothing  | 		at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:201) ~[reactor-core-3.4.23.jar!/:3.4.23]
acme-clothing  | 		at reactor.netty.resources.DefaultPooledConnectionProvider$DisposableAcquire.onError(DefaultPooledConnectionProvider.java:158) ~[reactor-netty-core-1.0.23.jar!/:1.0.23]
acme-clothing  | 		at reactor.netty.internal.shaded.reactor.pool.AbstractPool$Borrower.fail(AbstractPool.java:475) ~[reactor-netty-core-1.0.23.jar!/:1.0.23]
acme-clothing  | 		at reactor.netty.internal.shaded.reactor.pool.SimpleDequePool.lambda$drainLoop$9(SimpleDequePool.java:431) ~[reactor-netty-core-1.0.23.jar!/:1.0.23]
acme-clothing  | 		at reactor.core.publisher.FluxDoOnEach$DoOnEachSubscriber.onError(FluxDoOnEach.java:186) ~[reactor-core-3.4.23.jar!/:3.4.23]
acme-clothing  | 		at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:201) ~[reactor-core-3.4.23.jar!/:3.4.23]
acme-clothing  | 		at reactor.netty.resources.DefaultPooledConnectionProvider$PooledConnectionAllocator$PooledConnectionInitializer.onError(DefaultPooledConnectionProvider.java:548) ~[reactor-netty-core-1.0.23.jar!/:1.0.23]
acme-clothing  | 		at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:192) ~[reactor-core-3.4.23.jar!/:3.4.23]
acme-clothing  | 		at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:259) ~[reactor-core-3.4.23.jar!/:3.4.23]
acme-clothing  | 		at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:106) ~[reactor-core-3.4.23.jar!/:3.4.23]
acme-clothing  | 		at org.springframework.cloud.sleuth.instrument.reactor.SleuthContextOperator.onError(ReactorSleuth.java:673) ~[spring-cloud-sleuth-instrumentation-3.1.3.jar!/:3.1.3]
acme-clothing  | 		at reactor.core.publisher.SerializedSubscriber.onError(SerializedSubscriber.java:124) ~[reactor-core-3.4.23.jar!/:3.4.23]
acme-clothing  | 		at reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.whenError(FluxRetryWhen.java:225) ~[reactor-core-3.4.23.jar!/:3.4.23]
acme-clothing  | 		at reactor.core.publisher.FluxRetryWhen$RetryWhenOtherSubscriber.onError(FluxRetryWhen.java:274) ~[reactor-core-3.4.23.jar!/:3.4.23]
acme-clothing  | 		at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.drain(FluxConcatMap.java:415) ~[reactor-core-3.4.23.jar!/:3.4.23]
acme-clothing  | 		at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.onNext(FluxConcatMap.java:251) ~[reactor-core-3.4.23.jar!/:3.4.23]
acme-clothing  | 		at reactor.core.publisher.EmitterProcessor.drain(EmitterProcessor.java:537) ~[reactor-core-3.4.23.jar!/:3.4.23]
acme-clothing  | 		at reactor.core.publisher.EmitterProcessor.tryEmitNext(EmitterProcessor.java:343) ~[reactor-core-3.4.23.jar!/:3.4.23]
acme-clothing  | 		at reactor.core.publisher.SinkManySerialized.tryEmitNext(SinkManySerialized.java:100) ~[reactor-core-3.4.23.jar!/:3.4.23]
acme-clothing  | 		at reactor.core.publisher.InternalManySink.emitNext(InternalManySink.java:27) ~[reactor-core-3.4.23.jar!/:3.4.23]
acme-clothing  | 		at reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.onError(FluxRetryWhen.java:190) ~[reactor-core-3.4.23.jar!/:3.4.23]
acme-clothing  | 		at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:192) ~[reactor-core-3.4.23.jar!/:3.4.23]
acme-clothing  | 		at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:259) ~[reactor-core-3.4.23.jar!/:3.4.23]
acme-clothing  | 		at reactor.netty.transport.TransportConnector$MonoChannelPromise.tryFailure(TransportConnector.java:534) ~[reactor-netty-core-1.0.23.jar!/:1.0.23]
acme-clothing  | 		at reactor.netty.transport.TransportConnector$MonoChannelPromise.setFailure(TransportConnector.java:488) ~[reactor-netty-core-1.0.23.jar!/:1.0.23]
acme-clothing  | 		at reactor.netty.transport.TransportConnector.lambda$doConnect$7(TransportConnector.java:223) ~[reactor-netty-core-1.0.23.jar!/:1.0.23]
acme-clothing  | 		at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:578) ~[netty-common-4.1.82.Final.jar!/:4.1.82.Final]
acme-clothing  | 		at io.netty.util.concurrent.DefaultPromise.notifyListeners0(DefaultPromise.java:571) ~[netty-common-4.1.82.Final.jar!/:4.1.82.Final]
acme-clothing  | 		at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:550) ~[netty-common-4.1.82.Final.jar!/:4.1.82.Final]
acme-clothing  | 		at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:491) ~[netty-common-4.1.82.Final.jar!/:4.1.82.Final]
acme-clothing  | 		at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:616) ~[netty-common-4.1.82.Final.jar!/:4.1.82.Final]
acme-clothing  | 		at io.netty.util.concurrent.DefaultPromise.setFailure0(DefaultPromise.java:609) ~[netty-common-4.1.82.Final.jar!/:4.1.82.Final]
acme-clothing  | 		at io.netty.util.concurrent.DefaultPromise.tryFailure(DefaultPromise.java:117) ~[netty-common-4.1.82.Final.jar!/:4.1.82.Final]
acme-clothing  | 		at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.fulfillConnectPromise(AbstractNioChannel.java:321) ~[netty-transport-4.1.82.Final.jar!/:4.1.82.Final]
acme-clothing  | 		at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:337) ~[netty-transport-4.1.82.Final.jar!/:4.1.82.Final]
acme-clothing  | 		at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776) ~[netty-transport-4.1.82.Final.jar!/:4.1.82.Final]
acme-clothing  | 		at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.82.Final.jar!/:4.1.82.Final]
acme-clothing  | 		at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.82.Final.jar!/:4.1.82.Final]
acme-clothing  | 		at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.82.Final.jar!/:4.1.82.Final]
acme-clothing  | 		at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.82.Final.jar!/:4.1.82.Final]
acme-clothing  | 		at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.82.Final.jar!/:4.1.82.Final]
acme-clothing  | 		at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.82.Final.jar!/:4.1.82.Final]
acme-clothing  | 		at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]
acme-clothing  | 	Suppressed: java.lang.Exception: #block terminated with an error
acme-clothing  | 		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:99) ~[reactor-core-3.4.23.jar!/:3.4.23]
acme-clothing  | 		at reactor.core.publisher.Mono.block(Mono.java:1707) ~[reactor-core-3.4.23.jar!/:3.4.23]
acme-clothing  | 		at org.springframework.cloud.sleuth.zipkin2.WebClientSender.post(WebClientSender.java:69) ~[spring-cloud-sleuth-zipkin-3.1.3.jar!/:3.1.3]
acme-clothing  | 		at org.springframework.cloud.sleuth.zipkin2.WebClientSender.lambda$new$0(WebClientSender.java:63) ~[spring-cloud-sleuth-zipkin-3.1.3.jar!/:3.1.3]
acme-clothing  | 		at org.springframework.cloud.sleuth.zipkin2.HttpSender.post(HttpSender.java:137) ~[spring-cloud-sleuth-zipkin-3.1.3.jar!/:3.1.3]
acme-clothing  | 		at org.springframework.cloud.sleuth.zipkin2.HttpSender$HttpPostCall.doExecute(HttpSender.java:150) ~[spring-cloud-sleuth-zipkin-3.1.3.jar!/:3.1.3]
acme-clothing  | 		at org.springframework.cloud.sleuth.zipkin2.HttpSender$HttpPostCall.doExecute(HttpSender.java:140) ~[spring-cloud-sleuth-zipkin-3.1.3.jar!/:3.1.3]
acme-clothing  | 		at zipkin2.Call$Base.execute(Call.java:391) ~[zipkin-2.23.2.jar!/:na]
acme-clothing  | 		at zipkin2.reporter.AsyncReporter$BoundedAsyncReporter.flush(AsyncReporter.java:299) ~[zipkin-reporter-2.16.3.jar!/:na]
acme-clothing  | 		at zipkin2.reporter.AsyncReporter$Flusher.run(AsyncReporter.java:378) ~[zipkin-reporter-2.16.3.jar!/:na]
acme-clothing  | 		at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]
acme-clothing  | Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/172.23.0.4:9411
acme-clothing  | Caused by: java.net.ConnectException: Connection refused
acme-clothing  | 	at java.base/sun.nio.ch.SocketChannelImpl.checkConnect(Native Method) ~[na:na]
acme-clothing  | 	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:777) ~[na:na]
acme-clothing  | 	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:337) ~[netty-transport-4.1.82.Final.jar!/:4.1.82.Final]
acme-clothing  | 	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:334) ~[netty-transport-4.1.82.Final.jar!/:4.1.82.Final]
acme-clothing  | 	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776) ~[netty-transport-4.1.82.Final.jar!/:4.1.82.Final]
acme-clothing  | 	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.82.Final.jar!/:4.1.82.Final]
acme-clothing  | 	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.82.Final.jar!/:4.1.82.Final]
acme-clothing  | 	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.82.Final.jar!/:4.1.82.Final]
acme-clothing  | 	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.82.Final.jar!/:4.1.82.Final]
acme-clothing  | 	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.82.Final.jar!/:4.1.82.Final]
acme-clothing  | 	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.82.Final.jar!/:4.1.82.Final]
acme-clothing  | 	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]
acme-clothing  | 
api-gateway    | 2023-01-01 23:55:44.899  WARN [api-gateway,,] 1 --- [/api/v2/spans}}] z.r.AsyncReporter$BoundedAsyncReporter   : Spans were dropped due to exceptions. All subsequent errors will be logged at FINE level.
api-gateway    | 2023-01-01 23:55:44.905  WARN [api-gateway,,] 1 --- [/api/v2/spans}}] z.r.AsyncReporter$BoundedAsyncReporter   : Dropped 2 spans due to WebClientRequestException(Connection refused: localhost/127.0.0.1:9411; nested exception is io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:9411)
api-gateway    | 
api-gateway    | org.springframework.web.reactive.function.client.WebClientRequestException: Connection refused: localhost/127.0.0.1:9411; nested exception is io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:9411
api-gateway    | 	at org.springframework.web.reactive.function.client.ExchangeFunctions$DefaultExchangeFunction.lambda$wrapException$9(ExchangeFunctions.java:141) ~[spring-webflux-5.3.23.jar!/:5.3.23]
api-gateway    | 	Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: 
api-gateway    | Error has been observed at the following site(s):
api-gateway    | 	*__checkpoint ⇢ Request to POST http://localhost:9411/api/v2/spans [DefaultWebClient]
api-gateway    | Original Stack Trace:
api-gateway    | 		at org.springframework.web.reactive.function.client.ExchangeFunctions$DefaultExchangeFunction.lambda$wrapException$9(ExchangeFunctions.java:141) ~[spring-webflux-5.3.23.jar!/:5.3.23]
api-gateway    | 		at reactor.core.publisher.MonoErrorSupplied.subscribe(MonoErrorSupplied.java:55) ~[reactor-core-3.4.23.jar!/:3.4.23]
api-gateway    | 		at reactor.core.publisher.Mono.subscribe(Mono.java:4455) ~[reactor-core-3.4.23.jar!/:3.4.23]
api-gateway    | 		at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103) ~[reactor-core-3.4.23.jar!/:3.4.23]
api-gateway    | 		at reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:222) ~[reactor-core-3.4.23.jar!/:3.4.23]
api-gateway    | 		at reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:222) ~[reactor-core-3.4.23.jar!/:3.4.23]
api-gateway    | 		at reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:222) ~[reactor-core-3.4.23.jar!/:3.4.23]
api-gateway    | 		at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93) ~[reactor-core-3.4.23.jar!/:3.4.23]
api-gateway    | 		at reactor.core.publisher.MonoFlatMapMany$FlatMapManyMain.onError(MonoFlatMapMany.java:204) ~[reactor-core-3.4.23.jar!/:3.4.23]
api-gateway    | 		at reactor.core.publisher.SerializedSubscriber.onError(SerializedSubscriber.java:124) ~[reactor-core-3.4.23.jar!/:3.4.23]
api-gateway    | 		at reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.whenError(FluxRetryWhen.java:225) ~[reactor-core-3.4.23.jar!/:3.4.23]
api-gateway    | 		at reactor.core.publisher.FluxRetryWhen$RetryWhenOtherSubscriber.onError(FluxRetryWhen.java:274) ~[reactor-core-3.4.23.jar!/:3.4.23]
api-gateway    | 		at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.drain(FluxConcatMap.java:415) ~[reactor-core-3.4.23.jar!/:3.4.23]
api-gateway    | 		at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.onNext(FluxConcatMap.java:251) ~[reactor-core-3.4.23.jar!/:3.4.23]
api-gateway    | 		at reactor.core.publisher.EmitterProcessor.drain(EmitterProcessor.java:537) ~[reactor-core-3.4.23.jar!/:3.4.23]
api-gateway    | 		at reactor.core.publisher.EmitterProcessor.tryEmitNext(EmitterProcessor.java:343) ~[reactor-core-3.4.23.jar!/:3.4.23]
api-gateway    | 		at reactor.core.publisher.SinkManySerialized.tryEmitNext(SinkManySerialized.java:100) ~[reactor-core-3.4.23.jar!/:3.4.23]
api-gateway    | 		at reactor.core.publisher.InternalManySink.emitNext(InternalManySink.java:27) ~[reactor-core-3.4.23.jar!/:3.4.23]
api-gateway    | 		at reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.onError(FluxRetryWhen.java:190) ~[reactor-core-3.4.23.jar!/:3.4.23]
api-gateway    | 		at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:201) ~[reactor-core-3.4.23.jar!/:3.4.23]
api-gateway    | 		at reactor.netty.http.client.HttpClientConnect$MonoHttpConnect$ClientTransportSubscriber.onError(HttpClientConnect.java:308) ~[reactor-netty-http-1.0.23.jar!/:1.0.23]
api-gateway    | 		at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:201) ~[reactor-core-3.4.23.jar!/:3.4.23]
api-gateway    | 		at reactor.netty.resources.DefaultPooledConnectionProvider$DisposableAcquire.onError(DefaultPooledConnectionProvider.java:158) ~[reactor-netty-core-1.0.23.jar!/:1.0.23]
api-gateway    | 		at reactor.netty.internal.shaded.reactor.pool.AbstractPool$Borrower.fail(AbstractPool.java:475) ~[reactor-netty-core-1.0.23.jar!/:1.0.23]
api-gateway    | 		at reactor.netty.internal.shaded.reactor.pool.SimpleDequePool.lambda$drainLoop$9(SimpleDequePool.java:431) ~[reactor-netty-core-1.0.23.jar!/:1.0.23]
api-gateway    | 		at reactor.core.publisher.FluxDoOnEach$DoOnEachSubscriber.onError(FluxDoOnEach.java:186) ~[reactor-core-3.4.23.jar!/:3.4.23]
api-gateway    | 		at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:201) ~[reactor-core-3.4.23.jar!/:3.4.23]
api-gateway    | 		at reactor.netty.resources.DefaultPooledConnectionProvider$PooledConnectionAllocator$PooledConnectionInitializer.onError(DefaultPooledConnectionProvider.java:548) ~[reactor-netty-core-1.0.23.jar!/:1.0.23]
api-gateway    | 		at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:192) ~[reactor-core-3.4.23.jar!/:3.4.23]
api-gateway    | 		at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:259) ~[reactor-core-3.4.23.jar!/:3.4.23]
api-gateway    | 		at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:106) ~[reactor-core-3.4.23.jar!/:3.4.23]
api-gateway    | 		at reactor.core.publisher.Operators.error(Operators.java:198) ~[reactor-core-3.4.23.jar!/:3.4.23]
api-gateway    | 		at reactor.core.publisher.MonoError.subscribe(MonoError.java:53) ~[reactor-core-3.4.23.jar!/:3.4.23]
api-gateway    | 		at reactor.core.publisher.Mono.subscribe(Mono.java:4455) ~[reactor-core-3.4.23.jar!/:3.4.23]
api-gateway    | 		at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103) ~[reactor-core-3.4.23.jar!/:3.4.23]
api-gateway    | 		at reactor.netty.transport.TransportConnector$MonoChannelPromise.tryFailure(TransportConnector.java:534) ~[reactor-netty-core-1.0.23.jar!/:1.0.23]
api-gateway    | 		at reactor.netty.transport.TransportConnector$MonoChannelPromise.setFailure(TransportConnector.java:488) ~[reactor-netty-core-1.0.23.jar!/:1.0.23]
api-gateway    | 		at reactor.netty.transport.TransportConnector.lambda$doConnect$7(TransportConnector.java:223) ~[reactor-netty-core-1.0.23.jar!/:1.0.23]
api-gateway    | 		at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:578) ~[netty-common-4.1.82.Final.jar!/:4.1.82.Final]
api-gateway    | 		at io.netty.util.concurrent.DefaultPromise.notifyListeners0(DefaultPromise.java:571) ~[netty-common-4.1.82.Final.jar!/:4.1.82.Final]
api-gateway    | 		at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:550) ~[netty-common-4.1.82.Final.jar!/:4.1.82.Final]
api-gateway    | 		at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:491) ~[netty-common-4.1.82.Final.jar!/:4.1.82.Final]
api-gateway    | 		at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:616) ~[netty-common-4.1.82.Final.jar!/:4.1.82.Final]
api-gateway    | 		at io.netty.util.concurrent.DefaultPromise.setFailure0(DefaultPromise.java:609) ~[netty-common-4.1.82.Final.jar!/:4.1.82.Final]
api-gateway    | 		at io.netty.util.concurrent.DefaultPromise.tryFailure(DefaultPromise.java:117) ~[netty-common-4.1.82.Final.jar!/:4.1.82.Final]
api-gateway    | 		at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.fulfillConnectPromise(AbstractNioChannel.java:321) ~[netty-transport-4.1.82.Final.jar!/:4.1.82.Final]
api-gateway    | 		at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:337) ~[netty-transport-4.1.82.Final.jar!/:4.1.82.Final]
api-gateway    | 		at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776) ~[netty-transport-4.1.82.Final.jar!/:4.1.82.Final]
api-gateway    | 		at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.82.Final.jar!/:4.1.82.Final]
api-gateway    | 		at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.82.Final.jar!/:4.1.82.Final]
api-gateway    | 		at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.82.Final.jar!/:4.1.82.Final]
api-gateway    | 		at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.82.Final.jar!/:4.1.82.Final]
api-gateway    | 		at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.82.Final.jar!/:4.1.82.Final]
api-gateway    | 		at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.82.Final.jar!/:4.1.82.Final]
api-gateway    | 		at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]
api-gateway    | 	Suppressed: java.lang.Exception: #block terminated with an error
api-gateway    | 		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:99) ~[reactor-core-3.4.23.jar!/:3.4.23]
api-gateway    | 		at reactor.core.publisher.Mono.block(Mono.java:1707) ~[reactor-core-3.4.23.jar!/:3.4.23]
api-gateway    | 		at org.springframework.cloud.sleuth.zipkin2.WebClientSender.post(WebClientSender.java:69) ~[spring-cloud-sleuth-zipkin-3.1.3.jar!/:3.1.3]
api-gateway    | 		at org.springframework.cloud.sleuth.zipkin2.WebClientSender.lambda$new$0(WebClientSender.java:63) ~[spring-cloud-sleuth-zipkin-3.1.3.jar!/:3.1.3]
api-gateway    | 		at org.springframework.cloud.sleuth.zipkin2.HttpSender.post(HttpSender.java:137) ~[spring-cloud-sleuth-zipkin-3.1.3.jar!/:3.1.3]
api-gateway    | 		at org.springframework.cloud.sleuth.zipkin2.HttpSender$HttpPostCall.doExecute(HttpSender.java:150) ~[spring-cloud-sleuth-zipkin-3.1.3.jar!/:3.1.3]
api-gateway    | 		at org.springframework.cloud.sleuth.zipkin2.HttpSender$HttpPostCall.doExecute(HttpSender.java:140) ~[spring-cloud-sleuth-zipkin-3.1.3.jar!/:3.1.3]
api-gateway    | 		at zipkin2.Call$Base.execute(Call.java:391) ~[zipkin-2.23.2.jar!/:na]
api-gateway    | 		at zipkin2.reporter.AsyncReporter$BoundedAsyncReporter.flush(AsyncReporter.java:299) ~[zipkin-reporter-2.16.3.jar!/:na]
api-gateway    | 		at zipkin2.reporter.AsyncReporter$Flusher.run(AsyncReporter.java:378) ~[zipkin-reporter-2.16.3.jar!/:na]
api-gateway    | 		at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]
api-gateway    | Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:9411
api-gateway    | Caused by: java.net.ConnectException: Connection refused
api-gateway    | 	at java.base/sun.nio.ch.SocketChannelImpl.checkConnect(Native Method) ~[na:na]
api-gateway    | 	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:777) ~[na:na]
api-gateway    | 	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:337) ~[netty-transport-4.1.82.Final.jar!/:4.1.82.Final]
api-gateway    | 	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:334) ~[netty-transport-4.1.82.Final.jar!/:4.1.82.Final]
api-gateway    | 	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776) ~[netty-transport-4.1.82.Final.jar!/:4.1.82.Final]
api-gateway    | 	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.82.Final.jar!/:4.1.82.Final]
api-gateway    | 	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.82.Final.jar!/:4.1.82.Final]
api-gateway    | 	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.82.Final.jar!/:4.1.82.Final]
api-gateway    | 	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.82.Final.jar!/:4.1.82.Final]
api-gateway    | 	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.82.Final.jar!/:4.1.82.Final]
api-gateway    | 	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.82.Final.jar!/:4.1.82.Final]
api-gateway    | 	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]
api-gateway    | 
api-gateway    | 2023-01-01 23:55:48.111  INFO [api-gateway,07f851f8c42d64fe,07f851f8c42d64fe] 1 --- [ctor-http-nio-1] c.a.clothing.api.gateway.LoggingFilter   : Request received from '172.23.0.1' to '/api/catalogue/product'
acme-clothing  | 2023-01-01 23:55:48.315  INFO [jproza/acme-clothing,,] 1 --- [ctor-http-nio-4] a.c.c.a.c.c.CatalogueManagerController   : Started createNewProduct method with args: {productRequest=ProductRequest(id=null, nombre=Side Table, descripcion=Side Table with Charging Station, Set of 2 End Tables with USB Ports and Outlets, Nightstand with 2-Layer Storage Shelves for Small Spaces, Living Room, Bedroom, Rustic Brown BF09UBZP201, referencia=null, familiaProduto=ar.com.challenge.acme.clothing.entities.Family@7dd3b765, precioBase=22.97, customization=null, lstSlogan=[ar.com.challenge.acme.clothing.entities.Slogan@4f683762, ar.com.challenge.acme.clothing.entities.Slogan@1a4c0f79], listMedia=[ar.com.challenge.acme.clothing.entities.Media@1236f161], stock=ar.com.challenge.acme.clothing.entities.Stock@72be14dd), uriComponentsBuilder=org.springframework.web.util.UriComponentsBuilder@7c63eecf}
acme-clothing  | 2023-01-01 23:55:48.319 DEBUG [jproza/acme-clothing,,] 1 --- [ctor-http-nio-4] o.s.data.mongodb.core.MongoTemplate      : Saving Document containing fields: [_id, name, _class]
acme-clothing  | 2023-01-01 23:55:48.328 DEBUG [jproza/acme-clothing,,] 1 --- [ctor-http-nio-4] o.s.data.mongodb.core.MongoTemplate      : Saving Document containing fields: [_id, lstStorage, stockDisponible, hayStock, _class]
acme-clothing  | 2023-01-01 23:55:48.332 DEBUG [jproza/acme-clothing,,] 1 --- [ctor-http-nio-4] o.s.data.mongodb.core.MongoTemplate      : Saving Document containing fields: [_id, nombre, descripcion, familiaProduto, precioBase, lstSlogan, listMedia, stock, referencia, _class]
acme-clothing  | 2023-01-01 23:55:48.335  INFO [jproza/acme-clothing,,] 1 --- [ctor-http-nio-4] a.c.c.a.c.c.CatalogueManagerController   : Finished createNewProduct method in 18 millis with return: <201 CREATED Created,[]>
mongodb        | {"t":{"$date":"2023-01-01T22:55:49.224+00:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"WTCheckpointThread","msg":"WiredTiger message","attr":{"message":"[1672613749:224553][1:0xffff837aac80], WT_SESSION.checkpoint: [WT_VERB_CHECKPOINT_PROGRESS] saving checkpoint snapshot min: 45, snapshot max: 45 snapshot count: 0, oldest timestamp: (0, 0) , meta checkpoint timestamp: (0, 0) base write gen: 399"}}
api-gateway    | 2023-01-01 23:55:51.284  INFO [api-gateway,aa10effff1facbce,aa10effff1facbce] 1 --- [ctor-http-nio-1] c.a.clothing.api.gateway.LoggingFilter   : Request received from '172.23.0.1' to '/api/catalogue/product'
acme-clothing  | 2023-01-01 23:55:51.303  INFO [jproza/acme-clothing,aa10effff1facbce,4cc2da60f3ddfe7a] 1 --- [ctor-http-nio-4] a.c.c.a.c.c.CatalogueManagerController   : Started getAllProducts method with args: {nombre=null}
acme-clothing  | 2023-01-01 23:55:51.306 DEBUG [jproza/acme-clothing,aa10effff1facbce,4cc2da60f3ddfe7a] 1 --- [ctor-http-nio-4] o.s.data.mongodb.core.MongoTemplate      : find using query: {} fields: Document{{}} for class: class ar.com.challenge.acme.clothing.entities.Product in collection: products
acme-clothing  | 2023-01-01 23:55:51.334  INFO [jproza/acme-clothing,aa10effff1facbce,4cc2da60f3ddfe7a] 1 --- [ctor-http-nio-4] a.c.c.a.c.c.CatalogueManagerController   : Finished getAllProducts method in 29 millis with return: <200 OK OK,[ar.com.challenge.acme.clothing.entities.Product@3197b2d7, ar.com.challenge.acme.clothing.entities.Product@55b4137f, ar.com.challenge.acme.clothing.entities.Product@4b76556a, ar.com.challenge.acme.clothing.entities.Product@2c37858d, ar.com.challenge.acme.clothing.entities.Product@20ba8bd6, ar.com.challenge.acme.clothing.entities.Product@55e05b55, ar.com.challenge.acme.clothing.entities.Product@2c449986],[]>
discovery      | 2023-01-01 23:55:57.636  INFO 1 --- [a-EvictionTimer] c.n.e.registry.AbstractInstanceRegistry  : Running the evict task with compensationTime 0ms
api-gateway    | 2023-01-01 23:56:03.838  INFO [api-gateway,,] 1 --- [freshExecutor-0] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
api-gateway    | 2023-01-01 23:56:03.843  INFO [api-gateway,,] 1 --- [freshExecutor-0] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
api-gateway    | 2023-01-01 23:56:03.843  INFO [api-gateway,,] 1 --- [freshExecutor-0] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
api-gateway    | 2023-01-01 23:56:03.843  INFO [api-gateway,,] 1 --- [freshExecutor-0] com.netflix.discovery.DiscoveryClient    : Application is null : false
api-gateway    | 2023-01-01 23:56:03.843  INFO [api-gateway,,] 1 --- [freshExecutor-0] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
api-gateway    | 2023-01-01 23:56:03.843  INFO [api-gateway,,] 1 --- [freshExecutor-0] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
api-gateway    | 2023-01-01 23:56:03.844  INFO [api-gateway,,] 1 --- [freshExecutor-0] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
api-gateway    | 2023-01-01 23:56:03.920  INFO [api-gateway,,] 1 --- [nfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_API-GATEWAY/49af4fc4ed44:api-gateway:9191: registering service...
api-gateway    | 2023-01-01 23:56:03.922  INFO [api-gateway,,] 1 --- [freshExecutor-0] c.n.d.s.t.d.RedirectingEurekaHttpClient  : Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:8761/eureka/}, exception=I/O error on GET request for "http://localhost:8761/eureka/apps/": Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused); nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused) stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://localhost:8761/eureka/apps/": Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused); nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused)
api-gateway    | 	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:785)
api-gateway    | 	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711)
api-gateway    | 	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602)
api-gateway    | 	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.getApplicationsInternal(RestTemplateEurekaHttpClient.java:145)
api-gateway    | 	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.getApplications(RestTemplateEurekaHttpClient.java:135)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$6.execute(EurekaHttpClientDecorator.java:137)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$6.execute(EurekaHttpClientDecorator.java:137)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$6.execute(EurekaHttpClientDecorator.java:137)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)
api-gateway    | 	at com.netflix.discovery.DiscoveryClient.getAndStoreFullRegistry(DiscoveryClient.java:1101)
api-gateway    | 	at com.netflix.discovery.DiscoveryClient.fetchRegistry(DiscoveryClient.java:1014)
api-gateway    | 	at com.netflix.discovery.DiscoveryClient.refreshRegistry(DiscoveryClient.java:1531)
api-gateway    | 	at com.netflix.discovery.DiscoveryClient$CacheRefreshThread.run(DiscoveryClient.java:1498)
api-gateway    | 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
api-gateway    | 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
api-gateway    | 	at java.base/java.lang.Thread.run(Thread.java:829)
api-gateway    | Caused by: org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused)
api-gateway    | 	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:156)
api-gateway    | 	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)
api-gateway    | 	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)
api-gateway    | 	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)
api-gateway    | 	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)
api-gateway    | 	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)
api-gateway    | 	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)
api-gateway    | 	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)
api-gateway    | 	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)
api-gateway    | 	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)
api-gateway    | 	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:87)
api-gateway    | 	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
api-gateway    | 	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
api-gateway    | 	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:776)
api-gateway    | 	... 23 more
api-gateway    | Caused by: java.net.ConnectException: Connection refused (Connection refused)
api-gateway    | 	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
api-gateway    | 	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:412)
api-gateway    | 	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:255)
api-gateway    | 	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:237)
api-gateway    | 	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
api-gateway    | 	at java.base/java.net.Socket.connect(Socket.java:609)
api-gateway    | 	at org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75)
api-gateway    | 	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)
api-gateway    | 	... 36 more
api-gateway    | 
api-gateway    | 2023-01-01 23:56:03.923  WARN [api-gateway,,] 1 --- [freshExecutor-0] c.n.d.s.t.d.RetryableEurekaHttpClient    : Request execution failed with message: I/O error on GET request for "http://localhost:8761/eureka/apps/": Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused); nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused)
api-gateway    | 2023-01-01 23:56:03.924  INFO [api-gateway,,] 1 --- [freshExecutor-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_API-GATEWAY/49af4fc4ed44:api-gateway:9191 - was unable to refresh its cache! This periodic background refresh will be retried in 30 seconds. status = Cannot execute request on any known server stacktrace = com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$6.execute(EurekaHttpClientDecorator.java:137)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)
api-gateway    | 	at com.netflix.discovery.DiscoveryClient.getAndStoreFullRegistry(DiscoveryClient.java:1101)
api-gateway    | 	at com.netflix.discovery.DiscoveryClient.fetchRegistry(DiscoveryClient.java:1014)
api-gateway    | 	at com.netflix.discovery.DiscoveryClient.refreshRegistry(DiscoveryClient.java:1531)
api-gateway    | 	at com.netflix.discovery.DiscoveryClient$CacheRefreshThread.run(DiscoveryClient.java:1498)
api-gateway    | 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
api-gateway    | 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
api-gateway    | 	at java.base/java.lang.Thread.run(Thread.java:829)
api-gateway    | 
api-gateway    | 2023-01-01 23:56:03.926  INFO [api-gateway,,] 1 --- [tbeatExecutor-0] c.n.d.s.t.d.RedirectingEurekaHttpClient  : Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:8761/eureka/}, exception=I/O error on PUT request for "http://localhost:8761/eureka/apps/API-GATEWAY/49af4fc4ed44:api-gateway:9191": Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused); nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused) stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on PUT request for "http://localhost:8761/eureka/apps/API-GATEWAY/49af4fc4ed44:api-gateway:9191": Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused); nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused)
api-gateway    | 	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:785)
api-gateway    | 	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711)
api-gateway    | 	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602)
api-gateway    | 	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.sendHeartBeat(RestTemplateEurekaHttpClient.java:99)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$3.execute(EurekaHttpClientDecorator.java:92)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$3.execute(EurekaHttpClientDecorator.java:92)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$3.execute(EurekaHttpClientDecorator.java:92)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89)
api-gateway    | 	at com.netflix.discovery.DiscoveryClient.renew(DiscoveryClient.java:893)
api-gateway    | 	at com.netflix.discovery.DiscoveryClient$HeartbeatThread.run(DiscoveryClient.java:1457)
api-gateway    | 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
api-gateway    | 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
api-gateway    | 	at java.base/java.lang.Thread.run(Thread.java:829)
api-gateway    | Caused by: org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused)
api-gateway    | 	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:156)
api-gateway    | 	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)
api-gateway    | 	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)
api-gateway    | 	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)
api-gateway    | 	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)
api-gateway    | 	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)
api-gateway    | 	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)
api-gateway    | 	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)
api-gateway    | 	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)
api-gateway    | 	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)
api-gateway    | 	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:87)
api-gateway    | 	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
api-gateway    | 	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
api-gateway    | 	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:776)
api-gateway    | 	... 20 more
api-gateway    | Caused by: java.net.ConnectException: Connection refused (Connection refused)
api-gateway    | 	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
api-gateway    | 	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:412)
api-gateway    | 	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:255)
api-gateway    | 	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:237)
api-gateway    | 	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
api-gateway    | 	at java.base/java.net.Socket.connect(Socket.java:609)
api-gateway    | 	at org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75)
api-gateway    | 	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)
api-gateway    | 	... 33 more
api-gateway    | 
api-gateway    | 2023-01-01 23:56:03.927  WARN [api-gateway,,] 1 --- [tbeatExecutor-0] c.n.d.s.t.d.RetryableEurekaHttpClient    : Request execution failed with message: I/O error on PUT request for "http://localhost:8761/eureka/apps/API-GATEWAY/49af4fc4ed44:api-gateway:9191": Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused); nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused)
api-gateway    | 2023-01-01 23:56:03.928 ERROR [api-gateway,,] 1 --- [tbeatExecutor-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_API-GATEWAY/49af4fc4ed44:api-gateway:9191 - was unable to send heartbeat!
api-gateway    | 
api-gateway    | com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$3.execute(EurekaHttpClientDecorator.java:92) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.DiscoveryClient.renew(DiscoveryClient.java:893) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.DiscoveryClient$HeartbeatThread.run(DiscoveryClient.java:1457) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]
api-gateway    | 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]
api-gateway    | 	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]
api-gateway    | 
api-gateway    | 2023-01-01 23:56:03.937  INFO [api-gateway,,] 1 --- [nfoReplicator-0] c.n.d.s.t.d.RedirectingEurekaHttpClient  : Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:8761/eureka/}, exception=I/O error on POST request for "http://localhost:8761/eureka/apps/API-GATEWAY": Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused); nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused) stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:8761/eureka/apps/API-GATEWAY": Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused); nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused)
api-gateway    | 	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:785)
api-gateway    | 	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711)
api-gateway    | 	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602)
api-gateway    | 	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.register(RestTemplateEurekaHttpClient.java:77)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
api-gateway    | 	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:876)
api-gateway    | 	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:121)
api-gateway    | 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
api-gateway    | 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
api-gateway    | 	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
api-gateway    | 	at java.base/java.lang.Thread.run(Thread.java:829)
api-gateway    | Caused by: org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused)
api-gateway    | 	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:156)
api-gateway    | 	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)
api-gateway    | 	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)
api-gateway    | 	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)
api-gateway    | 	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)
api-gateway    | 	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)
api-gateway    | 	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)
api-gateway    | 	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)
api-gateway    | 	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)
api-gateway    | 	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)
api-gateway    | 	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:87)
api-gateway    | 	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
api-gateway    | 	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
api-gateway    | 	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:776)
api-gateway    | 	... 21 more
api-gateway    | Caused by: java.net.ConnectException: Connection refused (Connection refused)
api-gateway    | 	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
api-gateway    | 	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:412)
api-gateway    | 	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:255)
api-gateway    | 	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:237)
api-gateway    | 	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
api-gateway    | 	at java.base/java.net.Socket.connect(Socket.java:609)
api-gateway    | 	at org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75)
api-gateway    | 	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)
api-gateway    | 	... 34 more
api-gateway    | 
api-gateway    | 2023-01-01 23:56:03.938  WARN [api-gateway,,] 1 --- [nfoReplicator-0] c.n.d.s.t.d.RetryableEurekaHttpClient    : Request execution failed with message: I/O error on POST request for "http://localhost:8761/eureka/apps/API-GATEWAY": Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused); nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused)
api-gateway    | 2023-01-01 23:56:03.939  WARN [api-gateway,,] 1 --- [nfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_API-GATEWAY/49af4fc4ed44:api-gateway:9191 - registration failed Cannot execute request on any known server
api-gateway    | 
api-gateway    | com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:876) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:121) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]
api-gateway    | 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
api-gateway    | 	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]
api-gateway    | 	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]
api-gateway    | 
api-gateway    | 2023-01-01 23:56:03.939  WARN [api-gateway,,] 1 --- [nfoReplicator-0] c.n.discovery.InstanceInfoReplicator     : There was a problem with the instance info replicator
api-gateway    | 
api-gateway    | com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:876) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:121) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]
api-gateway    | 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
api-gateway    | 	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]
api-gateway    | 	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]
api-gateway    | 
api-gateway    | 2023-01-01 23:56:33.930  INFO [api-gateway,,] 1 --- [freshExecutor-0] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
api-gateway    | 2023-01-01 23:56:33.935  INFO [api-gateway,,] 1 --- [freshExecutor-0] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
api-gateway    | 2023-01-01 23:56:33.936  INFO [api-gateway,,] 1 --- [freshExecutor-0] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
api-gateway    | 2023-01-01 23:56:33.936  INFO [api-gateway,,] 1 --- [freshExecutor-0] com.netflix.discovery.DiscoveryClient    : Application is null : false
api-gateway    | 2023-01-01 23:56:33.936  INFO [api-gateway,,] 1 --- [freshExecutor-0] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
api-gateway    | 2023-01-01 23:56:33.936  INFO [api-gateway,,] 1 --- [freshExecutor-0] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
api-gateway    | 2023-01-01 23:56:33.936  INFO [api-gateway,,] 1 --- [freshExecutor-0] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
api-gateway    | 2023-01-01 23:56:33.940  INFO [api-gateway,,] 1 --- [nfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_API-GATEWAY/49af4fc4ed44:api-gateway:9191: registering service...
api-gateway    | 2023-01-01 23:56:33.982  INFO [api-gateway,,] 1 --- [nfoReplicator-0] c.n.d.s.t.d.RedirectingEurekaHttpClient  : Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:8761/eureka/}, exception=I/O error on POST request for "http://localhost:8761/eureka/apps/API-GATEWAY": Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused); nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused) stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:8761/eureka/apps/API-GATEWAY": Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused); nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused)
api-gateway    | 	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:785)
api-gateway    | 	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711)
api-gateway    | 	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602)
api-gateway    | 	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.register(RestTemplateEurekaHttpClient.java:77)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
api-gateway    | 	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:876)
api-gateway    | 	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:121)
api-gateway    | 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
api-gateway    | 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
api-gateway    | 	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
api-gateway    | 	at java.base/java.lang.Thread.run(Thread.java:829)
api-gateway    | Caused by: org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused)
api-gateway    | 	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:156)
api-gateway    | 	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)
api-gateway    | 	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)
api-gateway    | 	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)
api-gateway    | 	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)
api-gateway    | 	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)
api-gateway    | 	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)
api-gateway    | 	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)
api-gateway    | 	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)
api-gateway    | 	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)
api-gateway    | 	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:87)
api-gateway    | 	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
api-gateway    | 	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
api-gateway    | 	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:776)
api-gateway    | 	... 21 more
api-gateway    | Caused by: java.net.ConnectException: Connection refused (Connection refused)
api-gateway    | 	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
api-gateway    | 	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:412)
api-gateway    | 	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:255)
api-gateway    | 	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:237)
api-gateway    | 	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
api-gateway    | 	at java.base/java.net.Socket.connect(Socket.java:609)
api-gateway    | 	at org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75)
api-gateway    | 	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)
api-gateway    | 	... 34 more
api-gateway    | 
api-gateway    | 2023-01-01 23:56:33.983  WARN [api-gateway,,] 1 --- [nfoReplicator-0] c.n.d.s.t.d.RetryableEurekaHttpClient    : Request execution failed with message: I/O error on POST request for "http://localhost:8761/eureka/apps/API-GATEWAY": Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused); nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused)
api-gateway    | 2023-01-01 23:56:33.984  WARN [api-gateway,,] 1 --- [nfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_API-GATEWAY/49af4fc4ed44:api-gateway:9191 - registration failed Cannot execute request on any known server
api-gateway    | 
api-gateway    | com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:876) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:121) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]
api-gateway    | 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
api-gateway    | 	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]
api-gateway    | 	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]
api-gateway    | 
api-gateway    | 2023-01-01 23:56:33.985  WARN [api-gateway,,] 1 --- [nfoReplicator-0] c.n.discovery.InstanceInfoReplicator     : There was a problem with the instance info replicator
api-gateway    | 
api-gateway    | com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:876) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:121) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]
api-gateway    | 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
api-gateway    | 	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]
api-gateway    | 	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]
api-gateway    | 
api-gateway    | 2023-01-01 23:56:33.986  INFO [api-gateway,,] 1 --- [tbeatExecutor-0] c.n.d.s.t.d.RedirectingEurekaHttpClient  : Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:8761/eureka/}, exception=I/O error on PUT request for "http://localhost:8761/eureka/apps/API-GATEWAY/49af4fc4ed44:api-gateway:9191": Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused); nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused) stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on PUT request for "http://localhost:8761/eureka/apps/API-GATEWAY/49af4fc4ed44:api-gateway:9191": Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused); nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused)
api-gateway    | 	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:785)
api-gateway    | 	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711)
api-gateway    | 	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602)
api-gateway    | 	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.sendHeartBeat(RestTemplateEurekaHttpClient.java:99)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$3.execute(EurekaHttpClientDecorator.java:92)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$3.execute(EurekaHttpClientDecorator.java:92)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$3.execute(EurekaHttpClientDecorator.java:92)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89)
api-gateway    | 	at com.netflix.discovery.DiscoveryClient.renew(DiscoveryClient.java:893)
api-gateway    | 	at com.netflix.discovery.DiscoveryClient$HeartbeatThread.run(DiscoveryClient.java:1457)
api-gateway    | 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
api-gateway    | 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
api-gateway    | 	at java.base/java.lang.Thread.run(Thread.java:829)
api-gateway    | Caused by: org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused)
api-gateway    | 	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:156)
api-gateway    | 	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)
api-gateway    | 	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)
api-gateway    | 	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)
api-gateway    | 	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)
api-gateway    | 	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)
api-gateway    | 	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)
api-gateway    | 	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)
api-gateway    | 	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)
api-gateway    | 	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)
api-gateway    | 	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:87)
api-gateway    | 	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
api-gateway    | 	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
api-gateway    | 	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:776)
api-gateway    | 	... 20 more
api-gateway    | Caused by: java.net.ConnectException: Connection refused (Connection refused)
api-gateway    | 	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
api-gateway    | 	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:412)
api-gateway    | 	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:255)
api-gateway    | 	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:237)
api-gateway    | 	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
api-gateway    | 	at java.base/java.net.Socket.connect(Socket.java:609)
api-gateway    | 	at org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75)
api-gateway    | 	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)
api-gateway    | 	... 33 more
api-gateway    | 
api-gateway    | 2023-01-01 23:56:33.986  WARN [api-gateway,,] 1 --- [tbeatExecutor-0] c.n.d.s.t.d.RetryableEurekaHttpClient    : Request execution failed with message: I/O error on PUT request for "http://localhost:8761/eureka/apps/API-GATEWAY/49af4fc4ed44:api-gateway:9191": Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused); nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused)
api-gateway    | 2023-01-01 23:56:33.988  INFO [api-gateway,,] 1 --- [freshExecutor-0] c.n.d.s.t.d.RedirectingEurekaHttpClient  : Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:8761/eureka/}, exception=I/O error on GET request for "http://localhost:8761/eureka/apps/": Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused); nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused) stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://localhost:8761/eureka/apps/": Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused); nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused)
api-gateway    | 	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:785)
api-gateway    | 	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711)
api-gateway    | 	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602)
api-gateway    | 	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.getApplicationsInternal(RestTemplateEurekaHttpClient.java:145)
api-gateway    | 	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.getApplications(RestTemplateEurekaHttpClient.java:135)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$6.execute(EurekaHttpClientDecorator.java:137)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$6.execute(EurekaHttpClientDecorator.java:137)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$6.execute(EurekaHttpClientDecorator.java:137)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)
api-gateway    | 	at com.netflix.discovery.DiscoveryClient.getAndStoreFullRegistry(DiscoveryClient.java:1101)
api-gateway    | 	at com.netflix.discovery.DiscoveryClient.fetchRegistry(DiscoveryClient.java:1014)
api-gateway    | 	at com.netflix.discovery.DiscoveryClient.refreshRegistry(DiscoveryClient.java:1531)
api-gateway    | 	at com.netflix.discovery.DiscoveryClient$CacheRefreshThread.run(DiscoveryClient.java:1498)
api-gateway    | 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
api-gateway    | 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
api-gateway    | 	at java.base/java.lang.Thread.run(Thread.java:829)
api-gateway    | Caused by: org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused)
api-gateway    | 	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:156)
api-gateway    | 	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)
api-gateway    | 	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)
api-gateway    | 	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)
api-gateway    | 	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)
api-gateway    | 	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)
api-gateway    | 	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)
api-gateway    | 	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)
api-gateway    | 	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)
api-gateway    | 	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)
api-gateway    | 	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:87)
api-gateway    | 	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
api-gateway    | 	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
api-gateway    | 	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:776)
api-gateway    | 	... 23 more
api-gateway    | Caused by: java.net.ConnectException: Connection refused (Connection refused)
api-gateway    | 	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
api-gateway    | 	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:412)
api-gateway    | 	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:255)
api-gateway    | 	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:237)
api-gateway    | 	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
api-gateway    | 	at java.base/java.net.Socket.connect(Socket.java:609)
api-gateway    | 	at org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75)
api-gateway    | 	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)
api-gateway    | 	... 36 more
api-gateway    | 
api-gateway    | 2023-01-01 23:56:33.988 ERROR [api-gateway,,] 1 --- [tbeatExecutor-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_API-GATEWAY/49af4fc4ed44:api-gateway:9191 - was unable to send heartbeat!
api-gateway    | 
api-gateway    | com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$3.execute(EurekaHttpClientDecorator.java:92) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.DiscoveryClient.renew(DiscoveryClient.java:893) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.DiscoveryClient$HeartbeatThread.run(DiscoveryClient.java:1457) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]
api-gateway    | 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]
api-gateway    | 	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]
api-gateway    | 
api-gateway    | 2023-01-01 23:56:33.988  WARN [api-gateway,,] 1 --- [freshExecutor-0] c.n.d.s.t.d.RetryableEurekaHttpClient    : Request execution failed with message: I/O error on GET request for "http://localhost:8761/eureka/apps/": Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused); nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused)
api-gateway    | 2023-01-01 23:56:33.988  INFO [api-gateway,,] 1 --- [freshExecutor-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_API-GATEWAY/49af4fc4ed44:api-gateway:9191 - was unable to refresh its cache! This periodic background refresh will be retried in 30 seconds. status = Cannot execute request on any known server stacktrace = com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$6.execute(EurekaHttpClientDecorator.java:137)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)
api-gateway    | 	at com.netflix.discovery.DiscoveryClient.getAndStoreFullRegistry(DiscoveryClient.java:1101)
api-gateway    | 	at com.netflix.discovery.DiscoveryClient.fetchRegistry(DiscoveryClient.java:1014)
api-gateway    | 	at com.netflix.discovery.DiscoveryClient.refreshRegistry(DiscoveryClient.java:1531)
api-gateway    | 	at com.netflix.discovery.DiscoveryClient$CacheRefreshThread.run(DiscoveryClient.java:1498)
api-gateway    | 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
api-gateway    | 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
api-gateway    | 	at java.base/java.lang.Thread.run(Thread.java:829)
api-gateway    | 
mongodb        | {"t":{"$date":"2023-01-01T22:56:49.243+00:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"WTCheckpointThread","msg":"WiredTiger message","attr":{"message":"[1672613809:243378][1:0xffff837aac80], WT_SESSION.checkpoint: [WT_VERB_CHECKPOINT_PROGRESS] saving checkpoint snapshot min: 47, snapshot max: 47 snapshot count: 0, oldest timestamp: (0, 0) , meta checkpoint timestamp: (0, 0) base write gen: 399"}}
discovery      | 2023-01-01 23:56:57.647  INFO 1 --- [a-EvictionTimer] c.n.e.registry.AbstractInstanceRegistry  : Running the evict task with compensationTime 4ms
api-gateway    | 2023-01-01 23:57:03.992  INFO [api-gateway,,] 1 --- [freshExecutor-0] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
api-gateway    | 2023-01-01 23:57:03.991  INFO [api-gateway,,] 1 --- [nfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_API-GATEWAY/49af4fc4ed44:api-gateway:9191: registering service...
api-gateway    | 2023-01-01 23:57:03.998  INFO [api-gateway,,] 1 --- [freshExecutor-0] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
api-gateway    | 2023-01-01 23:57:03.998  INFO [api-gateway,,] 1 --- [freshExecutor-0] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
api-gateway    | 2023-01-01 23:57:03.998  INFO [api-gateway,,] 1 --- [freshExecutor-0] com.netflix.discovery.DiscoveryClient    : Application is null : false
api-gateway    | 2023-01-01 23:57:03.998  INFO [api-gateway,,] 1 --- [freshExecutor-0] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
api-gateway    | 2023-01-01 23:57:03.999  INFO [api-gateway,,] 1 --- [freshExecutor-0] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
api-gateway    | 2023-01-01 23:57:03.999  INFO [api-gateway,,] 1 --- [freshExecutor-0] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
api-gateway    | 2023-01-01 23:57:04.079  INFO [api-gateway,,] 1 --- [nfoReplicator-0] c.n.d.s.t.d.RedirectingEurekaHttpClient  : Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:8761/eureka/}, exception=I/O error on POST request for "http://localhost:8761/eureka/apps/API-GATEWAY": Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused); nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused) stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:8761/eureka/apps/API-GATEWAY": Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused); nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused)
api-gateway    | 	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:785)
api-gateway    | 	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711)
api-gateway    | 	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602)
api-gateway    | 	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.register(RestTemplateEurekaHttpClient.java:77)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
api-gateway    | 	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:876)
api-gateway    | 	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:121)
api-gateway    | 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
api-gateway    | 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
api-gateway    | 	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
api-gateway    | 	at java.base/java.lang.Thread.run(Thread.java:829)
api-gateway    | Caused by: org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused)
api-gateway    | 	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:156)
api-gateway    | 	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)
api-gateway    | 	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)
api-gateway    | 	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)
api-gateway    | 	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)
api-gateway    | 	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)
api-gateway    | 	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)
api-gateway    | 	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)
api-gateway    | 	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)
api-gateway    | 	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)
api-gateway    | 	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:87)
api-gateway    | 	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
api-gateway    | 	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
api-gateway    | 	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:776)
api-gateway    | 	... 21 more
api-gateway    | Caused by: java.net.ConnectException: Connection refused (Connection refused)
api-gateway    | 	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
api-gateway    | 	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:412)
api-gateway    | 	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:255)
api-gateway    | 	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:237)
api-gateway    | 	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
api-gateway    | 	at java.base/java.net.Socket.connect(Socket.java:609)
api-gateway    | 	at org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75)
api-gateway    | 	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)
api-gateway    | 	... 34 more
api-gateway    | 
api-gateway    | 2023-01-01 23:57:04.079  WARN [api-gateway,,] 1 --- [nfoReplicator-0] c.n.d.s.t.d.RetryableEurekaHttpClient    : Request execution failed with message: I/O error on POST request for "http://localhost:8761/eureka/apps/API-GATEWAY": Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused); nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused)
api-gateway    | 2023-01-01 23:57:04.081  WARN [api-gateway,,] 1 --- [nfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_API-GATEWAY/49af4fc4ed44:api-gateway:9191 - registration failed Cannot execute request on any known server
api-gateway    | 
api-gateway    | com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:876) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:121) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]
api-gateway    | 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
api-gateway    | 	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]
api-gateway    | 	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]
api-gateway    | 
api-gateway    | 2023-01-01 23:57:04.081  WARN [api-gateway,,] 1 --- [nfoReplicator-0] c.n.discovery.InstanceInfoReplicator     : There was a problem with the instance info replicator
api-gateway    | 
api-gateway    | com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:876) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:121) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]
api-gateway    | 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
api-gateway    | 	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]
api-gateway    | 	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]
api-gateway    | 
api-gateway    | 2023-01-01 23:57:04.084  INFO [api-gateway,,] 1 --- [freshExecutor-0] c.n.d.s.t.d.RedirectingEurekaHttpClient  : Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:8761/eureka/}, exception=I/O error on GET request for "http://localhost:8761/eureka/apps/": Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused); nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused) stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://localhost:8761/eureka/apps/": Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused); nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused)
api-gateway    | 	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:785)
api-gateway    | 	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711)
api-gateway    | 	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602)
api-gateway    | 	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.getApplicationsInternal(RestTemplateEurekaHttpClient.java:145)
api-gateway    | 	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.getApplications(RestTemplateEurekaHttpClient.java:135)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$6.execute(EurekaHttpClientDecorator.java:137)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$6.execute(EurekaHttpClientDecorator.java:137)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$6.execute(EurekaHttpClientDecorator.java:137)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)
api-gateway    | 	at com.netflix.discovery.DiscoveryClient.getAndStoreFullRegistry(DiscoveryClient.java:1101)
api-gateway    | 	at com.netflix.discovery.DiscoveryClient.fetchRegistry(DiscoveryClient.java:1014)
api-gateway    | 	at com.netflix.discovery.DiscoveryClient.refreshRegistry(DiscoveryClient.java:1531)
api-gateway    | 	at com.netflix.discovery.DiscoveryClient$CacheRefreshThread.run(DiscoveryClient.java:1498)
api-gateway    | 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
api-gateway    | 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
api-gateway    | 	at java.base/java.lang.Thread.run(Thread.java:829)
api-gateway    | Caused by: org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused)
api-gateway    | 	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:156)
api-gateway    | 	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)
api-gateway    | 	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)
api-gateway    | 	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)
api-gateway    | 	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)
api-gateway    | 	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)
api-gateway    | 	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)
api-gateway    | 	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)
api-gateway    | 	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)
api-gateway    | 	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)
api-gateway    | 	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:87)
api-gateway    | 	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
api-gateway    | 	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
api-gateway    | 	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:776)
api-gateway    | 	... 23 more
api-gateway    | Caused by: java.net.ConnectException: Connection refused (Connection refused)
api-gateway    | 	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
api-gateway    | 	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:412)
api-gateway    | 	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:255)
api-gateway    | 	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:237)
api-gateway    | 	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
api-gateway    | 	at java.base/java.net.Socket.connect(Socket.java:609)
api-gateway    | 	at org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75)
api-gateway    | 	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)
api-gateway    | 	... 36 more
api-gateway    | 
api-gateway    | 2023-01-01 23:57:04.084  WARN [api-gateway,,] 1 --- [freshExecutor-0] c.n.d.s.t.d.RetryableEurekaHttpClient    : Request execution failed with message: I/O error on GET request for "http://localhost:8761/eureka/apps/": Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused); nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused)
api-gateway    | 2023-01-01 23:57:04.084  INFO [api-gateway,,] 1 --- [freshExecutor-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_API-GATEWAY/49af4fc4ed44:api-gateway:9191 - was unable to refresh its cache! This periodic background refresh will be retried in 30 seconds. status = Cannot execute request on any known server stacktrace = com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$6.execute(EurekaHttpClientDecorator.java:137)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)
api-gateway    | 	at com.netflix.discovery.DiscoveryClient.getAndStoreFullRegistry(DiscoveryClient.java:1101)
api-gateway    | 	at com.netflix.discovery.DiscoveryClient.fetchRegistry(DiscoveryClient.java:1014)
api-gateway    | 	at com.netflix.discovery.DiscoveryClient.refreshRegistry(DiscoveryClient.java:1531)
api-gateway    | 	at com.netflix.discovery.DiscoveryClient$CacheRefreshThread.run(DiscoveryClient.java:1498)
api-gateway    | 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
api-gateway    | 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
api-gateway    | 	at java.base/java.lang.Thread.run(Thread.java:829)
api-gateway    | 
api-gateway    | 2023-01-01 23:57:04.090  INFO [api-gateway,,] 1 --- [tbeatExecutor-0] c.n.d.s.t.d.RedirectingEurekaHttpClient  : Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:8761/eureka/}, exception=I/O error on PUT request for "http://localhost:8761/eureka/apps/API-GATEWAY/49af4fc4ed44:api-gateway:9191": Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused); nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused) stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on PUT request for "http://localhost:8761/eureka/apps/API-GATEWAY/49af4fc4ed44:api-gateway:9191": Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused); nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused)
api-gateway    | 	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:785)
api-gateway    | 	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711)
api-gateway    | 	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602)
api-gateway    | 	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.sendHeartBeat(RestTemplateEurekaHttpClient.java:99)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$3.execute(EurekaHttpClientDecorator.java:92)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$3.execute(EurekaHttpClientDecorator.java:92)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$3.execute(EurekaHttpClientDecorator.java:92)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89)
api-gateway    | 	at com.netflix.discovery.DiscoveryClient.renew(DiscoveryClient.java:893)
api-gateway    | 	at com.netflix.discovery.DiscoveryClient$HeartbeatThread.run(DiscoveryClient.java:1457)
api-gateway    | 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
api-gateway    | 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
api-gateway    | 	at java.base/java.lang.Thread.run(Thread.java:829)
api-gateway    | Caused by: org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused)
api-gateway    | 	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:156)
api-gateway    | 	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)
api-gateway    | 	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)
api-gateway    | 	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)
api-gateway    | 	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)
api-gateway    | 	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)
api-gateway    | 	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)
api-gateway    | 	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)
api-gateway    | 	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)
api-gateway    | 	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)
api-gateway    | 	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:87)
api-gateway    | 	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
api-gateway    | 	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
api-gateway    | 	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:776)
api-gateway    | 	... 20 more
api-gateway    | Caused by: java.net.ConnectException: Connection refused (Connection refused)
api-gateway    | 	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
api-gateway    | 	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:412)
api-gateway    | 	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:255)
api-gateway    | 	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:237)
api-gateway    | 	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
api-gateway    | 	at java.base/java.net.Socket.connect(Socket.java:609)
api-gateway    | 	at org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75)
api-gateway    | 	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)
api-gateway    | 	... 33 more
api-gateway    | 
api-gateway    | 2023-01-01 23:57:04.090  WARN [api-gateway,,] 1 --- [tbeatExecutor-0] c.n.d.s.t.d.RetryableEurekaHttpClient    : Request execution failed with message: I/O error on PUT request for "http://localhost:8761/eureka/apps/API-GATEWAY/49af4fc4ed44:api-gateway:9191": Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused); nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused)
api-gateway    | 2023-01-01 23:57:04.091 ERROR [api-gateway,,] 1 --- [tbeatExecutor-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_API-GATEWAY/49af4fc4ed44:api-gateway:9191 - was unable to send heartbeat!
api-gateway    | 
api-gateway    | com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$3.execute(EurekaHttpClientDecorator.java:92) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.DiscoveryClient.renew(DiscoveryClient.java:893) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.DiscoveryClient$HeartbeatThread.run(DiscoveryClient.java:1457) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]
api-gateway    | 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]
api-gateway    | 	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]
api-gateway    | 
api-gateway    | 2023-01-01 23:57:34.089  INFO [api-gateway,,] 1 --- [freshExecutor-0] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
api-gateway    | 2023-01-01 23:57:34.106  INFO [api-gateway,,] 1 --- [freshExecutor-0] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
api-gateway    | 2023-01-01 23:57:34.106  INFO [api-gateway,,] 1 --- [freshExecutor-0] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
api-gateway    | 2023-01-01 23:57:34.106  INFO [api-gateway,,] 1 --- [freshExecutor-0] com.netflix.discovery.DiscoveryClient    : Application is null : false
api-gateway    | 2023-01-01 23:57:34.106  INFO [api-gateway,,] 1 --- [freshExecutor-0] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
api-gateway    | 2023-01-01 23:57:34.106  INFO [api-gateway,,] 1 --- [freshExecutor-0] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
api-gateway    | 2023-01-01 23:57:34.106  INFO [api-gateway,,] 1 --- [freshExecutor-0] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
api-gateway    | 2023-01-01 23:57:34.087  INFO [api-gateway,,] 1 --- [nfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_API-GATEWAY/49af4fc4ed44:api-gateway:9191: registering service...
api-gateway    | 2023-01-01 23:57:34.151  INFO [api-gateway,,] 1 --- [tbeatExecutor-0] c.n.d.s.t.d.RedirectingEurekaHttpClient  : Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:8761/eureka/}, exception=I/O error on PUT request for "http://localhost:8761/eureka/apps/API-GATEWAY/49af4fc4ed44:api-gateway:9191": Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused); nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused) stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on PUT request for "http://localhost:8761/eureka/apps/API-GATEWAY/49af4fc4ed44:api-gateway:9191": Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused); nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused)
api-gateway    | 	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:785)
api-gateway    | 	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711)
api-gateway    | 	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602)
api-gateway    | 	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.sendHeartBeat(RestTemplateEurekaHttpClient.java:99)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$3.execute(EurekaHttpClientDecorator.java:92)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$3.execute(EurekaHttpClientDecorator.java:92)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$3.execute(EurekaHttpClientDecorator.java:92)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89)
api-gateway    | 	at com.netflix.discovery.DiscoveryClient.renew(DiscoveryClient.java:893)
api-gateway    | 	at com.netflix.discovery.DiscoveryClient$HeartbeatThread.run(DiscoveryClient.java:1457)
api-gateway    | 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
api-gateway    | 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
api-gateway    | 	at java.base/java.lang.Thread.run(Thread.java:829)
api-gateway    | Caused by: org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused)
api-gateway    | 	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:156)
api-gateway    | 	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)
api-gateway    | 	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)
api-gateway    | 	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)
api-gateway    | 	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)
api-gateway    | 	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)
api-gateway    | 	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)
api-gateway    | 	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)
api-gateway    | 	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)
api-gateway    | 	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)
api-gateway    | 	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:87)
api-gateway    | 	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
api-gateway    | 	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
api-gateway    | 	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:776)
api-gateway    | 	... 20 more
api-gateway    | Caused by: java.net.ConnectException: Connection refused (Connection refused)
api-gateway    | 	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
api-gateway    | 	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:412)
api-gateway    | 	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:255)
api-gateway    | 	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:237)
api-gateway    | 	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
api-gateway    | 	at java.base/java.net.Socket.connect(Socket.java:609)
api-gateway    | 	at org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75)
api-gateway    | 	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)
api-gateway    | 	... 33 more
api-gateway    | 
api-gateway    | 2023-01-01 23:57:34.151  WARN [api-gateway,,] 1 --- [tbeatExecutor-0] c.n.d.s.t.d.RetryableEurekaHttpClient    : Request execution failed with message: I/O error on PUT request for "http://localhost:8761/eureka/apps/API-GATEWAY/49af4fc4ed44:api-gateway:9191": Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused); nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused)
api-gateway    | 2023-01-01 23:57:34.153 ERROR [api-gateway,,] 1 --- [tbeatExecutor-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_API-GATEWAY/49af4fc4ed44:api-gateway:9191 - was unable to send heartbeat!
api-gateway    | 
api-gateway    | com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$3.execute(EurekaHttpClientDecorator.java:92) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.DiscoveryClient.renew(DiscoveryClient.java:893) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.DiscoveryClient$HeartbeatThread.run(DiscoveryClient.java:1457) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]
api-gateway    | 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]
api-gateway    | 	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]
api-gateway    | 
api-gateway    | 2023-01-01 23:57:34.151  INFO [api-gateway,,] 1 --- [nfoReplicator-0] c.n.d.s.t.d.RedirectingEurekaHttpClient  : Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:8761/eureka/}, exception=I/O error on POST request for "http://localhost:8761/eureka/apps/API-GATEWAY": Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused); nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused) stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:8761/eureka/apps/API-GATEWAY": Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused); nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused)
api-gateway    | 	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:785)
api-gateway    | 	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711)
api-gateway    | 	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602)
api-gateway    | 	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.register(RestTemplateEurekaHttpClient.java:77)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
api-gateway    | 	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:876)
api-gateway    | 	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:121)
api-gateway    | 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
api-gateway    | 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
api-gateway    | 	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
api-gateway    | 	at java.base/java.lang.Thread.run(Thread.java:829)
api-gateway    | Caused by: org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused)
api-gateway    | 	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:156)
api-gateway    | 	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)
api-gateway    | 	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)
api-gateway    | 	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)
api-gateway    | 	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)
api-gateway    | 	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)
api-gateway    | 	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)
api-gateway    | 	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)
api-gateway    | 	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)
api-gateway    | 	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)
api-gateway    | 	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:87)
api-gateway    | 	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
api-gateway    | 	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
api-gateway    | 	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:776)
api-gateway    | 	... 21 more
api-gateway    | Caused by: java.net.ConnectException: Connection refused (Connection refused)
api-gateway    | 	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
api-gateway    | 	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:412)
api-gateway    | 	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:255)
api-gateway    | 	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:237)
api-gateway    | 	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
api-gateway    | 	at java.base/java.net.Socket.connect(Socket.java:609)
api-gateway    | 	at org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75)
api-gateway    | 	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)
api-gateway    | 	... 34 more
api-gateway    | 
api-gateway    | 2023-01-01 23:57:34.153  WARN [api-gateway,,] 1 --- [nfoReplicator-0] c.n.d.s.t.d.RetryableEurekaHttpClient    : Request execution failed with message: I/O error on POST request for "http://localhost:8761/eureka/apps/API-GATEWAY": Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused); nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused)
api-gateway    | 2023-01-01 23:57:34.153  INFO [api-gateway,,] 1 --- [freshExecutor-0] c.n.d.s.t.d.RedirectingEurekaHttpClient  : Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:8761/eureka/}, exception=I/O error on GET request for "http://localhost:8761/eureka/apps/": Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused); nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused) stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://localhost:8761/eureka/apps/": Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused); nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused)
api-gateway    | 	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:785)
api-gateway    | 	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711)
api-gateway    | 	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602)
api-gateway    | 	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.getApplicationsInternal(RestTemplateEurekaHttpClient.java:145)
api-gateway    | 	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.getApplications(RestTemplateEurekaHttpClient.java:135)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$6.execute(EurekaHttpClientDecorator.java:137)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$6.execute(EurekaHttpClientDecorator.java:137)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$6.execute(EurekaHttpClientDecorator.java:137)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)
api-gateway    | 	at com.netflix.discovery.DiscoveryClient.getAndStoreFullRegistry(DiscoveryClient.java:1101)
api-gateway    | 	at com.netflix.discovery.DiscoveryClient.fetchRegistry(DiscoveryClient.java:1014)
api-gateway    | 	at com.netflix.discovery.DiscoveryClient.refreshRegistry(DiscoveryClient.java:1531)
api-gateway    | 	at com.netflix.discovery.DiscoveryClient$CacheRefreshThread.run(DiscoveryClient.java:1498)
api-gateway    | 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
api-gateway    | 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
api-gateway    | 	at java.base/java.lang.Thread.run(Thread.java:829)
api-gateway    | Caused by: org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused)
api-gateway    | 	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:156)
api-gateway    | 	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)
api-gateway    | 	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)
api-gateway    | 	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)
api-gateway    | 	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)
api-gateway    | 	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)
api-gateway    | 	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)
api-gateway    | 	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)
api-gateway    | 	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)
api-gateway    | 	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)
api-gateway    | 	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:87)
api-gateway    | 	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
api-gateway    | 	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
api-gateway    | 	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:776)
api-gateway    | 	... 23 more
api-gateway    | Caused by: java.net.ConnectException: Connection refused (Connection refused)
api-gateway    | 	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
api-gateway    | 	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:412)
api-gateway    | 	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:255)
api-gateway    | 	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:237)
api-gateway    | 	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
api-gateway    | 	at java.base/java.net.Socket.connect(Socket.java:609)
api-gateway    | 	at org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75)
api-gateway    | 	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)
api-gateway    | 	... 36 more
api-gateway    | 
api-gateway    | 2023-01-01 23:57:34.154  WARN [api-gateway,,] 1 --- [freshExecutor-0] c.n.d.s.t.d.RetryableEurekaHttpClient    : Request execution failed with message: I/O error on GET request for "http://localhost:8761/eureka/apps/": Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused); nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused)
api-gateway    | 2023-01-01 23:57:34.154  INFO [api-gateway,,] 1 --- [freshExecutor-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_API-GATEWAY/49af4fc4ed44:api-gateway:9191 - was unable to refresh its cache! This periodic background refresh will be retried in 30 seconds. status = Cannot execute request on any known server stacktrace = com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$6.execute(EurekaHttpClientDecorator.java:137)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)
api-gateway    | 	at com.netflix.discovery.DiscoveryClient.getAndStoreFullRegistry(DiscoveryClient.java:1101)
api-gateway    | 	at com.netflix.discovery.DiscoveryClient.fetchRegistry(DiscoveryClient.java:1014)
api-gateway    | 	at com.netflix.discovery.DiscoveryClient.refreshRegistry(DiscoveryClient.java:1531)
api-gateway    | 	at com.netflix.discovery.DiscoveryClient$CacheRefreshThread.run(DiscoveryClient.java:1498)
api-gateway    | 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
api-gateway    | 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
api-gateway    | 	at java.base/java.lang.Thread.run(Thread.java:829)
api-gateway    | 
api-gateway    | 2023-01-01 23:57:34.154  WARN [api-gateway,,] 1 --- [nfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_API-GATEWAY/49af4fc4ed44:api-gateway:9191 - registration failed Cannot execute request on any known server
api-gateway    | 
api-gateway    | com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:876) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:121) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]
api-gateway    | 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
api-gateway    | 	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]
api-gateway    | 	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]
api-gateway    | 
api-gateway    | 2023-01-01 23:57:34.154  WARN [api-gateway,,] 1 --- [nfoReplicator-0] c.n.discovery.InstanceInfoReplicator     : There was a problem with the instance info replicator
api-gateway    | 
api-gateway    | com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:876) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:121) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]
api-gateway    | 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
api-gateway    | 	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]
api-gateway    | 	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]
api-gateway    | 
mongodb        | {"t":{"$date":"2023-01-01T22:57:49.276+00:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"WTCheckpointThread","msg":"WiredTiger message","attr":{"message":"[1672613869:276625][1:0xffff837aac80], WT_SESSION.checkpoint: [WT_VERB_CHECKPOINT_PROGRESS] saving checkpoint snapshot min: 50, snapshot max: 50 snapshot count: 0, oldest timestamp: (0, 0) , meta checkpoint timestamp: (0, 0) base write gen: 399"}}
discovery      | 2023-01-01 23:57:57.639  INFO 1 --- [a-EvictionTimer] c.n.e.registry.AbstractInstanceRegistry  : Running the evict task with compensationTime 0ms
api-gateway    | 2023-01-01 23:58:04.159  INFO [api-gateway,,] 1 --- [nfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_API-GATEWAY/49af4fc4ed44:api-gateway:9191: registering service...
api-gateway    | 2023-01-01 23:58:04.174  INFO [api-gateway,,] 1 --- [freshExecutor-0] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
api-gateway    | 2023-01-01 23:58:04.176  INFO [api-gateway,,] 1 --- [freshExecutor-0] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
api-gateway    | 2023-01-01 23:58:04.176  INFO [api-gateway,,] 1 --- [freshExecutor-0] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
api-gateway    | 2023-01-01 23:58:04.177  INFO [api-gateway,,] 1 --- [freshExecutor-0] com.netflix.discovery.DiscoveryClient    : Application is null : false
api-gateway    | 2023-01-01 23:58:04.177  INFO [api-gateway,,] 1 --- [freshExecutor-0] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
api-gateway    | 2023-01-01 23:58:04.177  INFO [api-gateway,,] 1 --- [freshExecutor-0] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
api-gateway    | 2023-01-01 23:58:04.177  INFO [api-gateway,,] 1 --- [freshExecutor-0] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
api-gateway    | 2023-01-01 23:58:04.243  INFO [api-gateway,,] 1 --- [nfoReplicator-0] c.n.d.s.t.d.RedirectingEurekaHttpClient  : Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:8761/eureka/}, exception=I/O error on POST request for "http://localhost:8761/eureka/apps/API-GATEWAY": Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused); nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused) stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:8761/eureka/apps/API-GATEWAY": Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused); nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused)
api-gateway    | 	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:785)
api-gateway    | 	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711)
api-gateway    | 	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602)
api-gateway    | 	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.register(RestTemplateEurekaHttpClient.java:77)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
api-gateway    | 	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:876)
api-gateway    | 	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:121)
api-gateway    | 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
api-gateway    | 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
api-gateway    | 	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
api-gateway    | 	at java.base/java.lang.Thread.run(Thread.java:829)
api-gateway    | Caused by: org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused)
api-gateway    | 	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:156)
api-gateway    | 	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)
api-gateway    | 	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)
api-gateway    | 	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)
api-gateway    | 	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)
api-gateway    | 	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)
api-gateway    | 	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)
api-gateway    | 	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)
api-gateway    | 	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)
api-gateway    | 	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)
api-gateway    | 	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:87)
api-gateway    | 	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
api-gateway    | 	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
api-gateway    | 	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:776)
api-gateway    | 	... 21 more
api-gateway    | Caused by: java.net.ConnectException: Connection refused (Connection refused)
api-gateway    | 	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
api-gateway    | 	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:412)
api-gateway    | 	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:255)
api-gateway    | 	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:237)
api-gateway    | 	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
api-gateway    | 	at java.base/java.net.Socket.connect(Socket.java:609)
api-gateway    | 	at org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75)
api-gateway    | 	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)
api-gateway    | 	... 34 more
api-gateway    | 
api-gateway    | 2023-01-01 23:58:04.244  WARN [api-gateway,,] 1 --- [nfoReplicator-0] c.n.d.s.t.d.RetryableEurekaHttpClient    : Request execution failed with message: I/O error on POST request for "http://localhost:8761/eureka/apps/API-GATEWAY": Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused); nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused)
api-gateway    | 2023-01-01 23:58:04.247  WARN [api-gateway,,] 1 --- [nfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_API-GATEWAY/49af4fc4ed44:api-gateway:9191 - registration failed Cannot execute request on any known server
api-gateway    | 
api-gateway    | com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:876) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:121) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]
api-gateway    | 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
api-gateway    | 	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]
api-gateway    | 	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]
api-gateway    | 
api-gateway    | 2023-01-01 23:58:04.248  INFO [api-gateway,,] 1 --- [tbeatExecutor-0] c.n.d.s.t.d.RedirectingEurekaHttpClient  : Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:8761/eureka/}, exception=I/O error on PUT request for "http://localhost:8761/eureka/apps/API-GATEWAY/49af4fc4ed44:api-gateway:9191": Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused); nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused) stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on PUT request for "http://localhost:8761/eureka/apps/API-GATEWAY/49af4fc4ed44:api-gateway:9191": Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused); nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused)
api-gateway    | 	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:785)
api-gateway    | 	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711)
api-gateway    | 	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602)
api-gateway    | 	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.sendHeartBeat(RestTemplateEurekaHttpClient.java:99)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$3.execute(EurekaHttpClientDecorator.java:92)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$3.execute(EurekaHttpClientDecorator.java:92)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$3.execute(EurekaHttpClientDecorator.java:92)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89)
api-gateway    | 	at com.netflix.discovery.DiscoveryClient.renew(DiscoveryClient.java:893)
api-gateway    | 	at com.netflix.discovery.DiscoveryClient$HeartbeatThread.run(DiscoveryClient.java:1457)
api-gateway    | 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
api-gateway    | 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
api-gateway    | 	at java.base/java.lang.Thread.run(Thread.java:829)
api-gateway    | Caused by: org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused)
api-gateway    | 	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:156)
api-gateway    | 	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)
api-gateway    | 	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)
api-gateway    | 	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)
api-gateway    | 	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)
api-gateway    | 	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)
api-gateway    | 	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)
api-gateway    | 	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)
api-gateway    | 	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)
api-gateway    | 	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)
api-gateway    | 	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:87)
api-gateway    | 	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
api-gateway    | 	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
api-gateway    | 	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:776)
api-gateway    | 	... 20 more
api-gateway    | Caused by: java.net.ConnectException: Connection refused (Connection refused)
api-gateway    | 	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
api-gateway    | 	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:412)
api-gateway    | 	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:255)
api-gateway    | 	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:237)
api-gateway    | 	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
api-gateway    | 	at java.base/java.net.Socket.connect(Socket.java:609)
api-gateway    | 	at org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75)
api-gateway    | 	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)
api-gateway    | 	... 33 more
api-gateway    | 
api-gateway    | 2023-01-01 23:58:04.248  WARN [api-gateway,,] 1 --- [tbeatExecutor-0] c.n.d.s.t.d.RetryableEurekaHttpClient    : Request execution failed with message: I/O error on PUT request for "http://localhost:8761/eureka/apps/API-GATEWAY/49af4fc4ed44:api-gateway:9191": Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused); nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused)
api-gateway    | 2023-01-01 23:58:04.249  WARN [api-gateway,,] 1 --- [nfoReplicator-0] c.n.discovery.InstanceInfoReplicator     : There was a problem with the instance info replicator
api-gateway    | 
api-gateway    | com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:876) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:121) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]
api-gateway    | 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
api-gateway    | 	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]
api-gateway    | 	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]
api-gateway    | 
api-gateway    | 2023-01-01 23:58:04.249 ERROR [api-gateway,,] 1 --- [tbeatExecutor-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_API-GATEWAY/49af4fc4ed44:api-gateway:9191 - was unable to send heartbeat!
api-gateway    | 
api-gateway    | com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$3.execute(EurekaHttpClientDecorator.java:92) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.DiscoveryClient.renew(DiscoveryClient.java:893) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.DiscoveryClient$HeartbeatThread.run(DiscoveryClient.java:1457) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]
api-gateway    | 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]
api-gateway    | 	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]
api-gateway    | 
api-gateway    | 2023-01-01 23:58:04.255  INFO [api-gateway,,] 1 --- [freshExecutor-0] c.n.d.s.t.d.RedirectingEurekaHttpClient  : Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:8761/eureka/}, exception=I/O error on GET request for "http://localhost:8761/eureka/apps/": Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused); nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused) stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://localhost:8761/eureka/apps/": Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused); nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused)
api-gateway    | 	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:785)
api-gateway    | 	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711)
api-gateway    | 	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602)
api-gateway    | 	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.getApplicationsInternal(RestTemplateEurekaHttpClient.java:145)
api-gateway    | 	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.getApplications(RestTemplateEurekaHttpClient.java:135)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$6.execute(EurekaHttpClientDecorator.java:137)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$6.execute(EurekaHttpClientDecorator.java:137)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$6.execute(EurekaHttpClientDecorator.java:137)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)
api-gateway    | 	at com.netflix.discovery.DiscoveryClient.getAndStoreFullRegistry(DiscoveryClient.java:1101)
api-gateway    | 	at com.netflix.discovery.DiscoveryClient.fetchRegistry(DiscoveryClient.java:1014)
api-gateway    | 	at com.netflix.discovery.DiscoveryClient.refreshRegistry(DiscoveryClient.java:1531)
api-gateway    | 	at com.netflix.discovery.DiscoveryClient$CacheRefreshThread.run(DiscoveryClient.java:1498)
api-gateway    | 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
api-gateway    | 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
api-gateway    | 	at java.base/java.lang.Thread.run(Thread.java:829)
api-gateway    | Caused by: org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused)
api-gateway    | 	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:156)
api-gateway    | 	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)
api-gateway    | 	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)
api-gateway    | 	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)
api-gateway    | 	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)
api-gateway    | 	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)
api-gateway    | 	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)
api-gateway    | 	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)
api-gateway    | 	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)
api-gateway    | 	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)
api-gateway    | 	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:87)
api-gateway    | 	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
api-gateway    | 	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
api-gateway    | 	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:776)
api-gateway    | 	... 23 more
api-gateway    | Caused by: java.net.ConnectException: Connection refused (Connection refused)
api-gateway    | 	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
api-gateway    | 	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:412)
api-gateway    | 	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:255)
api-gateway    | 	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:237)
api-gateway    | 	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
api-gateway    | 	at java.base/java.net.Socket.connect(Socket.java:609)
api-gateway    | 	at org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75)
api-gateway    | 	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)
api-gateway    | 	... 36 more
api-gateway    | 
api-gateway    | 2023-01-01 23:58:04.256  WARN [api-gateway,,] 1 --- [freshExecutor-0] c.n.d.s.t.d.RetryableEurekaHttpClient    : Request execution failed with message: I/O error on GET request for "http://localhost:8761/eureka/apps/": Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused); nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused)
api-gateway    | 2023-01-01 23:58:04.257  INFO [api-gateway,,] 1 --- [freshExecutor-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_API-GATEWAY/49af4fc4ed44:api-gateway:9191 - was unable to refresh its cache! This periodic background refresh will be retried in 30 seconds. status = Cannot execute request on any known server stacktrace = com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$6.execute(EurekaHttpClientDecorator.java:137)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)
api-gateway    | 	at com.netflix.discovery.DiscoveryClient.getAndStoreFullRegistry(DiscoveryClient.java:1101)
api-gateway    | 	at com.netflix.discovery.DiscoveryClient.fetchRegistry(DiscoveryClient.java:1014)
api-gateway    | 	at com.netflix.discovery.DiscoveryClient.refreshRegistry(DiscoveryClient.java:1531)
api-gateway    | 	at com.netflix.discovery.DiscoveryClient$CacheRefreshThread.run(DiscoveryClient.java:1498)
api-gateway    | 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
api-gateway    | 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
api-gateway    | 	at java.base/java.lang.Thread.run(Thread.java:829)
api-gateway    | 
api-gateway    | 2023-01-01 23:58:34.259  INFO [api-gateway,,] 1 --- [freshExecutor-0] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
api-gateway    | 2023-01-01 23:58:34.256  INFO [api-gateway,,] 1 --- [nfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_API-GATEWAY/49af4fc4ed44:api-gateway:9191: registering service...
api-gateway    | 2023-01-01 23:58:34.262  INFO [api-gateway,,] 1 --- [freshExecutor-0] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
api-gateway    | 2023-01-01 23:58:34.263  INFO [api-gateway,,] 1 --- [freshExecutor-0] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
api-gateway    | 2023-01-01 23:58:34.263  INFO [api-gateway,,] 1 --- [freshExecutor-0] com.netflix.discovery.DiscoveryClient    : Application is null : false
api-gateway    | 2023-01-01 23:58:34.263  INFO [api-gateway,,] 1 --- [freshExecutor-0] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
api-gateway    | 2023-01-01 23:58:34.264  INFO [api-gateway,,] 1 --- [freshExecutor-0] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
api-gateway    | 2023-01-01 23:58:34.264  INFO [api-gateway,,] 1 --- [freshExecutor-0] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
api-gateway    | 2023-01-01 23:58:34.356  INFO [api-gateway,,] 1 --- [nfoReplicator-0] c.n.d.s.t.d.RedirectingEurekaHttpClient  : Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:8761/eureka/}, exception=I/O error on POST request for "http://localhost:8761/eureka/apps/API-GATEWAY": Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused); nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused) stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:8761/eureka/apps/API-GATEWAY": Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused); nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused)
api-gateway    | 	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:785)
api-gateway    | 	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711)
api-gateway    | 	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602)
api-gateway    | 	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.register(RestTemplateEurekaHttpClient.java:77)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
api-gateway    | 	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:876)
api-gateway    | 	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:121)
api-gateway    | 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
api-gateway    | 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
api-gateway    | 	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
api-gateway    | 	at java.base/java.lang.Thread.run(Thread.java:829)
api-gateway    | Caused by: org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused)
api-gateway    | 	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:156)
api-gateway    | 	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)
api-gateway    | 	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)
api-gateway    | 	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)
api-gateway    | 	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)
api-gateway    | 	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)
api-gateway    | 	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)
api-gateway    | 	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)
api-gateway    | 	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)
api-gateway    | 	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)
api-gateway    | 	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:87)
api-gateway    | 	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
api-gateway    | 	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
api-gateway    | 	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:776)
api-gateway    | 	... 21 more
api-gateway    | Caused by: java.net.ConnectException: Connection refused (Connection refused)
api-gateway    | 	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
api-gateway    | 	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:412)
api-gateway    | 	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:255)
api-gateway    | 	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:237)
api-gateway    | 	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
api-gateway    | 	at java.base/java.net.Socket.connect(Socket.java:609)
api-gateway    | 	at org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75)
api-gateway    | 	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)
api-gateway    | 	... 34 more
api-gateway    | 
api-gateway    | 2023-01-01 23:58:34.356  WARN [api-gateway,,] 1 --- [nfoReplicator-0] c.n.d.s.t.d.RetryableEurekaHttpClient    : Request execution failed with message: I/O error on POST request for "http://localhost:8761/eureka/apps/API-GATEWAY": Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused); nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused)
api-gateway    | 2023-01-01 23:58:34.358  WARN [api-gateway,,] 1 --- [nfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_API-GATEWAY/49af4fc4ed44:api-gateway:9191 - registration failed Cannot execute request on any known server
api-gateway    | 
api-gateway    | com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:876) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:121) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]
api-gateway    | 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
api-gateway    | 	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]
api-gateway    | 	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]
api-gateway    | 
api-gateway    | 2023-01-01 23:58:34.356  INFO [api-gateway,,] 1 --- [tbeatExecutor-0] c.n.d.s.t.d.RedirectingEurekaHttpClient  : Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:8761/eureka/}, exception=I/O error on PUT request for "http://localhost:8761/eureka/apps/API-GATEWAY/49af4fc4ed44:api-gateway:9191": Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused); nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused) stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on PUT request for "http://localhost:8761/eureka/apps/API-GATEWAY/49af4fc4ed44:api-gateway:9191": Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused); nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused)
api-gateway    | 	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:785)
api-gateway    | 	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711)
api-gateway    | 	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602)
api-gateway    | 	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.sendHeartBeat(RestTemplateEurekaHttpClient.java:99)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$3.execute(EurekaHttpClientDecorator.java:92)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$3.execute(EurekaHttpClientDecorator.java:92)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$3.execute(EurekaHttpClientDecorator.java:92)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89)
api-gateway    | 	at com.netflix.discovery.DiscoveryClient.renew(DiscoveryClient.java:893)
api-gateway    | 	at com.netflix.discovery.DiscoveryClient$HeartbeatThread.run(DiscoveryClient.java:1457)
api-gateway    | 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
api-gateway    | 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
api-gateway    | 	at java.base/java.lang.Thread.run(Thread.java:829)
api-gateway    | Caused by: org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused)
api-gateway    | 	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:156)
api-gateway    | 	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)
api-gateway    | 	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)
api-gateway    | 	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)
api-gateway    | 	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)
api-gateway    | 	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)
api-gateway    | 	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)
api-gateway    | 	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)
api-gateway    | 	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)
api-gateway    | 	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)
api-gateway    | 	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:87)
api-gateway    | 	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
api-gateway    | 	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
api-gateway    | 	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:776)
api-gateway    | 	... 20 more
api-gateway    | Caused by: java.net.ConnectException: Connection refused (Connection refused)
api-gateway    | 	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
api-gateway    | 	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:412)
api-gateway    | 	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:255)
api-gateway    | 	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:237)
api-gateway    | 	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
api-gateway    | 	at java.base/java.net.Socket.connect(Socket.java:609)
api-gateway    | 	at org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75)
api-gateway    | 	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)
api-gateway    | 	... 33 more
api-gateway    | 
api-gateway    | 2023-01-01 23:58:34.359  INFO [api-gateway,,] 1 --- [freshExecutor-0] c.n.d.s.t.d.RedirectingEurekaHttpClient  : Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:8761/eureka/}, exception=I/O error on GET request for "http://localhost:8761/eureka/apps/": Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused); nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused) stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://localhost:8761/eureka/apps/": Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused); nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused)
api-gateway    | 	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:785)
api-gateway    | 	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711)
api-gateway    | 	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602)
api-gateway    | 	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.getApplicationsInternal(RestTemplateEurekaHttpClient.java:145)
api-gateway    | 	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.getApplications(RestTemplateEurekaHttpClient.java:135)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$6.execute(EurekaHttpClientDecorator.java:137)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$6.execute(EurekaHttpClientDecorator.java:137)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$6.execute(EurekaHttpClientDecorator.java:137)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)
api-gateway    | 	at com.netflix.discovery.DiscoveryClient.getAndStoreFullRegistry(DiscoveryClient.java:1101)
api-gateway    | 	at com.netflix.discovery.DiscoveryClient.fetchRegistry(DiscoveryClient.java:1014)
api-gateway    | 	at com.netflix.discovery.DiscoveryClient.refreshRegistry(DiscoveryClient.java:1531)
api-gateway    | 	at com.netflix.discovery.DiscoveryClient$CacheRefreshThread.run(DiscoveryClient.java:1498)
api-gateway    | 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
api-gateway    | 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
api-gateway    | 	at java.base/java.lang.Thread.run(Thread.java:829)
api-gateway    | Caused by: org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused)
api-gateway    | 	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:156)
api-gateway    | 	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)
api-gateway    | 	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)
api-gateway    | 	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)
api-gateway    | 	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)
api-gateway    | 	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)
api-gateway    | 	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)
api-gateway    | 	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)
api-gateway    | 	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)
api-gateway    | 	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)
api-gateway    | 	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:87)
api-gateway    | 	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
api-gateway    | 	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
api-gateway    | 	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:776)
api-gateway    | 	... 23 more
api-gateway    | Caused by: java.net.ConnectException: Connection refused (Connection refused)
api-gateway    | 	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
api-gateway    | 	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:412)
api-gateway    | 	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:255)
api-gateway    | 	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:237)
api-gateway    | 	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
api-gateway    | 	at java.base/java.net.Socket.connect(Socket.java:609)
api-gateway    | 	at org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75)
api-gateway    | 	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)
api-gateway    | 	... 36 more
api-gateway    | 
api-gateway    | 2023-01-01 23:58:34.359  WARN [api-gateway,,] 1 --- [nfoReplicator-0] c.n.discovery.InstanceInfoReplicator     : There was a problem with the instance info replicator
api-gateway    | 
api-gateway    | com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:876) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:121) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]
api-gateway    | 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
api-gateway    | 	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]
api-gateway    | 	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]
api-gateway    | 
api-gateway    | 2023-01-01 23:58:34.359  WARN [api-gateway,,] 1 --- [tbeatExecutor-0] c.n.d.s.t.d.RetryableEurekaHttpClient    : Request execution failed with message: I/O error on PUT request for "http://localhost:8761/eureka/apps/API-GATEWAY/49af4fc4ed44:api-gateway:9191": Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused); nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused)
api-gateway    | 2023-01-01 23:58:34.359  WARN [api-gateway,,] 1 --- [freshExecutor-0] c.n.d.s.t.d.RetryableEurekaHttpClient    : Request execution failed with message: I/O error on GET request for "http://localhost:8761/eureka/apps/": Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused); nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused)
api-gateway    | 2023-01-01 23:58:34.360  INFO [api-gateway,,] 1 --- [freshExecutor-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_API-GATEWAY/49af4fc4ed44:api-gateway:9191 - was unable to refresh its cache! This periodic background refresh will be retried in 30 seconds. status = Cannot execute request on any known server stacktrace = com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$6.execute(EurekaHttpClientDecorator.java:137)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)
api-gateway    | 	at com.netflix.discovery.DiscoveryClient.getAndStoreFullRegistry(DiscoveryClient.java:1101)
api-gateway    | 	at com.netflix.discovery.DiscoveryClient.fetchRegistry(DiscoveryClient.java:1014)
api-gateway    | 	at com.netflix.discovery.DiscoveryClient.refreshRegistry(DiscoveryClient.java:1531)
api-gateway    | 	at com.netflix.discovery.DiscoveryClient$CacheRefreshThread.run(DiscoveryClient.java:1498)
api-gateway    | 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
api-gateway    | 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
api-gateway    | 	at java.base/java.lang.Thread.run(Thread.java:829)
api-gateway    | 
api-gateway    | 2023-01-01 23:58:34.360 ERROR [api-gateway,,] 1 --- [tbeatExecutor-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_API-GATEWAY/49af4fc4ed44:api-gateway:9191 - was unable to send heartbeat!
api-gateway    | 
api-gateway    | com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$3.execute(EurekaHttpClientDecorator.java:92) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.DiscoveryClient.renew(DiscoveryClient.java:893) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.DiscoveryClient$HeartbeatThread.run(DiscoveryClient.java:1457) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]
api-gateway    | 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]
api-gateway    | 	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]
api-gateway    | 
mongodb        | {"t":{"$date":"2023-01-01T22:58:49.293+00:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"WTCheckpointThread","msg":"WiredTiger message","attr":{"message":"[1672613929:293136][1:0xffff837aac80], WT_SESSION.checkpoint: [WT_VERB_CHECKPOINT_PROGRESS] saving checkpoint snapshot min: 52, snapshot max: 52 snapshot count: 0, oldest timestamp: (0, 0) , meta checkpoint timestamp: (0, 0) base write gen: 399"}}
discovery      | 2023-01-01 23:58:57.643  INFO 1 --- [a-EvictionTimer] c.n.e.registry.AbstractInstanceRegistry  : Running the evict task with compensationTime 1ms
api-gateway    | 2023-01-01 23:59:01.622  INFO [api-gateway,df906d85434915cf,df906d85434915cf] 1 --- [ctor-http-nio-1] c.a.clothing.api.gateway.LoggingFilter   : Request received from '172.23.0.1' to '/api/catalogue/product'
acme-clothing  | 2023-01-01 23:59:01.744  INFO [jproza/acme-clothing,df906d85434915cf,0d3d8abccf9c7222] 1 --- [ctor-http-nio-4] a.c.c.a.c.c.CatalogueManagerController   : Started getAllProducts method with args: {nombre=null}
acme-clothing  | 2023-01-01 23:59:01.769 DEBUG [jproza/acme-clothing,df906d85434915cf,0d3d8abccf9c7222] 1 --- [ctor-http-nio-4] o.s.data.mongodb.core.MongoTemplate      : find using query: {} fields: Document{{}} for class: class ar.com.challenge.acme.clothing.entities.Product in collection: products
acme-clothing  | 2023-01-01 23:59:01.810  INFO [jproza/acme-clothing,df906d85434915cf,0d3d8abccf9c7222] 1 --- [ctor-http-nio-4] a.c.c.a.c.c.CatalogueManagerController   : Finished getAllProducts method in 61 millis with return: <200 OK OK,[ar.com.challenge.acme.clothing.entities.Product@2f12db15, ar.com.challenge.acme.clothing.entities.Product@72a92c3c, ar.com.challenge.acme.clothing.entities.Product@161196b6, ar.com.challenge.acme.clothing.entities.Product@1799e437, ar.com.challenge.acme.clothing.entities.Product@2eea5fa2, ar.com.challenge.acme.clothing.entities.Product@15194e8f, ar.com.challenge.acme.clothing.entities.Product@fa7debc],[]>
api-gateway    | 2023-01-01 23:59:04.366  INFO [api-gateway,,] 1 --- [nfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_API-GATEWAY/49af4fc4ed44:api-gateway:9191: registering service...
api-gateway    | 2023-01-01 23:59:04.366  INFO [api-gateway,,] 1 --- [freshExecutor-0] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
api-gateway    | 2023-01-01 23:59:04.374  INFO [api-gateway,,] 1 --- [freshExecutor-0] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
api-gateway    | 2023-01-01 23:59:04.382  INFO [api-gateway,,] 1 --- [freshExecutor-0] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
api-gateway    | 2023-01-01 23:59:04.383  INFO [api-gateway,,] 1 --- [freshExecutor-0] com.netflix.discovery.DiscoveryClient    : Application is null : false
api-gateway    | 2023-01-01 23:59:04.383  INFO [api-gateway,,] 1 --- [freshExecutor-0] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
api-gateway    | 2023-01-01 23:59:04.385  INFO [api-gateway,,] 1 --- [freshExecutor-0] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
api-gateway    | 2023-01-01 23:59:04.386  INFO [api-gateway,,] 1 --- [freshExecutor-0] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
api-gateway    | 2023-01-01 23:59:04.460  INFO [api-gateway,,] 1 --- [nfoReplicator-0] c.n.d.s.t.d.RedirectingEurekaHttpClient  : Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:8761/eureka/}, exception=I/O error on POST request for "http://localhost:8761/eureka/apps/API-GATEWAY": Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused); nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused) stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:8761/eureka/apps/API-GATEWAY": Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused); nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused)
api-gateway    | 	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:785)
api-gateway    | 	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711)
api-gateway    | 	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602)
api-gateway    | 	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.register(RestTemplateEurekaHttpClient.java:77)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
api-gateway    | 	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:876)
api-gateway    | 	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:121)
api-gateway    | 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
api-gateway    | 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
api-gateway    | 	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
api-gateway    | 	at java.base/java.lang.Thread.run(Thread.java:829)
api-gateway    | Caused by: org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused)
api-gateway    | 	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:156)
api-gateway    | 	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)
api-gateway    | 	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)
api-gateway    | 	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)
api-gateway    | 	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)
api-gateway    | 	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)
api-gateway    | 	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)
api-gateway    | 	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)
api-gateway    | 	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)
api-gateway    | 	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)
api-gateway    | 	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:87)
api-gateway    | 	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
api-gateway    | 	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
api-gateway    | 	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:776)
api-gateway    | 	... 21 more
api-gateway    | Caused by: java.net.ConnectException: Connection refused (Connection refused)
api-gateway    | 	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
api-gateway    | 	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:412)
api-gateway    | 	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:255)
api-gateway    | 	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:237)
api-gateway    | 	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
api-gateway    | 	at java.base/java.net.Socket.connect(Socket.java:609)
api-gateway    | 	at org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75)
api-gateway    | 	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)
api-gateway    | 	... 34 more
api-gateway    | 
api-gateway    | 2023-01-01 23:59:04.461  WARN [api-gateway,,] 1 --- [nfoReplicator-0] c.n.d.s.t.d.RetryableEurekaHttpClient    : Request execution failed with message: I/O error on POST request for "http://localhost:8761/eureka/apps/API-GATEWAY": Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused); nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused)
api-gateway    | 2023-01-01 23:59:04.462  WARN [api-gateway,,] 1 --- [nfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_API-GATEWAY/49af4fc4ed44:api-gateway:9191 - registration failed Cannot execute request on any known server
api-gateway    | 
api-gateway    | com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:876) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:121) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]
api-gateway    | 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
api-gateway    | 	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]
api-gateway    | 	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]
api-gateway    | 
api-gateway    | 2023-01-01 23:59:04.462  WARN [api-gateway,,] 1 --- [nfoReplicator-0] c.n.discovery.InstanceInfoReplicator     : There was a problem with the instance info replicator
api-gateway    | 
api-gateway    | com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:876) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:121) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]
api-gateway    | 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
api-gateway    | 	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]
api-gateway    | 	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]
api-gateway    | 
api-gateway    | 2023-01-01 23:59:04.465  INFO [api-gateway,,] 1 --- [tbeatExecutor-0] c.n.d.s.t.d.RedirectingEurekaHttpClient  : Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:8761/eureka/}, exception=I/O error on PUT request for "http://localhost:8761/eureka/apps/API-GATEWAY/49af4fc4ed44:api-gateway:9191": Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused); nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused) stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on PUT request for "http://localhost:8761/eureka/apps/API-GATEWAY/49af4fc4ed44:api-gateway:9191": Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused); nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused)
api-gateway    | 	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:785)
api-gateway    | 	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711)
api-gateway    | 	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602)
api-gateway    | 	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.sendHeartBeat(RestTemplateEurekaHttpClient.java:99)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$3.execute(EurekaHttpClientDecorator.java:92)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$3.execute(EurekaHttpClientDecorator.java:92)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$3.execute(EurekaHttpClientDecorator.java:92)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89)
api-gateway    | 	at com.netflix.discovery.DiscoveryClient.renew(DiscoveryClient.java:893)
api-gateway    | 	at com.netflix.discovery.DiscoveryClient$HeartbeatThread.run(DiscoveryClient.java:1457)
api-gateway    | 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
api-gateway    | 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
api-gateway    | 	at java.base/java.lang.Thread.run(Thread.java:829)
api-gateway    | Caused by: org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused)
api-gateway    | 	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:156)
api-gateway    | 	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)
api-gateway    | 	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)
api-gateway    | 	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)
api-gateway    | 	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)
api-gateway    | 	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)
api-gateway    | 	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)
api-gateway    | 	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)
api-gateway    | 	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)
api-gateway    | 	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)
api-gateway    | 	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:87)
api-gateway    | 	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
api-gateway    | 	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
api-gateway    | 	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:776)
api-gateway    | 	... 20 more
api-gateway    | Caused by: java.net.ConnectException: Connection refused (Connection refused)
api-gateway    | 	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
api-gateway    | 	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:412)
api-gateway    | 	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:255)
api-gateway    | 	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:237)
api-gateway    | 	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
api-gateway    | 	at java.base/java.net.Socket.connect(Socket.java:609)
api-gateway    | 	at org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75)
api-gateway    | 	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)
api-gateway    | 	... 33 more
api-gateway    | 
api-gateway    | 2023-01-01 23:59:04.465  WARN [api-gateway,,] 1 --- [tbeatExecutor-0] c.n.d.s.t.d.RetryableEurekaHttpClient    : Request execution failed with message: I/O error on PUT request for "http://localhost:8761/eureka/apps/API-GATEWAY/49af4fc4ed44:api-gateway:9191": Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused); nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused)
api-gateway    | 2023-01-01 23:59:04.466 ERROR [api-gateway,,] 1 --- [tbeatExecutor-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_API-GATEWAY/49af4fc4ed44:api-gateway:9191 - was unable to send heartbeat!
api-gateway    | 
api-gateway    | com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$3.execute(EurekaHttpClientDecorator.java:92) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.DiscoveryClient.renew(DiscoveryClient.java:893) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at com.netflix.discovery.DiscoveryClient$HeartbeatThread.run(DiscoveryClient.java:1457) ~[eureka-client-1.10.17.jar!/:1.10.17]
api-gateway    | 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]
api-gateway    | 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]
api-gateway    | 	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]
api-gateway    | 
api-gateway    | 2023-01-01 23:59:04.468  INFO [api-gateway,,] 1 --- [freshExecutor-0] c.n.d.s.t.d.RedirectingEurekaHttpClient  : Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:8761/eureka/}, exception=I/O error on GET request for "http://localhost:8761/eureka/apps/": Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused); nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused) stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://localhost:8761/eureka/apps/": Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused); nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused)
api-gateway    | 	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:785)
api-gateway    | 	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711)
api-gateway    | 	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602)
api-gateway    | 	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.getApplicationsInternal(RestTemplateEurekaHttpClient.java:145)
api-gateway    | 	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.getApplications(RestTemplateEurekaHttpClient.java:135)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$6.execute(EurekaHttpClientDecorator.java:137)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$6.execute(EurekaHttpClientDecorator.java:137)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$6.execute(EurekaHttpClientDecorator.java:137)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)
api-gateway    | 	at com.netflix.discovery.DiscoveryClient.getAndStoreFullRegistry(DiscoveryClient.java:1101)
api-gateway    | 	at com.netflix.discovery.DiscoveryClient.fetchRegistry(DiscoveryClient.java:1014)
api-gateway    | 	at com.netflix.discovery.DiscoveryClient.refreshRegistry(DiscoveryClient.java:1531)
api-gateway    | 	at com.netflix.discovery.DiscoveryClient$CacheRefreshThread.run(DiscoveryClient.java:1498)
api-gateway    | 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
api-gateway    | 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
api-gateway    | 	at java.base/java.lang.Thread.run(Thread.java:829)
api-gateway    | Caused by: org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused)
api-gateway    | 	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:156)
api-gateway    | 	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)
api-gateway    | 	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)
api-gateway    | 	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)
api-gateway    | 	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)
api-gateway    | 	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)
api-gateway    | 	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)
api-gateway    | 	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)
api-gateway    | 	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)
api-gateway    | 	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)
api-gateway    | 	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:87)
api-gateway    | 	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
api-gateway    | 	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
api-gateway    | 	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:776)
api-gateway    | 	... 23 more
api-gateway    | Caused by: java.net.ConnectException: Connection refused (Connection refused)
api-gateway    | 	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
api-gateway    | 	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:412)
api-gateway    | 	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:255)
api-gateway    | 	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:237)
api-gateway    | 	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
api-gateway    | 	at java.base/java.net.Socket.connect(Socket.java:609)
api-gateway    | 	at org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75)
api-gateway    | 	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)
api-gateway    | 	... 36 more
api-gateway    | 
api-gateway    | 2023-01-01 23:59:04.469  WARN [api-gateway,,] 1 --- [freshExecutor-0] c.n.d.s.t.d.RetryableEurekaHttpClient    : Request execution failed with message: I/O error on GET request for "http://localhost:8761/eureka/apps/": Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused); nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1] failed: Connection refused (Connection refused)
api-gateway    | 2023-01-01 23:59:04.469  INFO [api-gateway,,] 1 --- [freshExecutor-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_API-GATEWAY/49af4fc4ed44:api-gateway:9191 - was unable to refresh its cache! This periodic background refresh will be retried in 30 seconds. status = Cannot execute request on any known server stacktrace = com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$6.execute(EurekaHttpClientDecorator.java:137)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
api-gateway    | 	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)
api-gateway    | 	at com.netflix.discovery.DiscoveryClient.getAndStoreFullRegistry(DiscoveryClient.java:1101)
api-gateway    | 	at com.netflix.discovery.DiscoveryClient.fetchRegistry(DiscoveryClient.java:1014)
api-gateway    | 	at com.netflix.discovery.DiscoveryClient.refreshRegistry(DiscoveryClient.java:1531)
api-gateway    | 	at com.netflix.discovery.DiscoveryClient$CacheRefreshThread.run(DiscoveryClient.java:1498)
api-gateway    | 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
api-gateway    | 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
api-gateway    | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
api-gateway    | 	at java.base/java.lang.Thread.run(Thread.java:829)
api-gateway    | 
Gracefully stopping... (press Ctrl+C again to force)
